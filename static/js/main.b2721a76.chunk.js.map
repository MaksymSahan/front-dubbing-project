{"version":3,"sources":["components/Stream/Stream.module.css","components/Toolbar/Sidebar/ActionSection/ActionSection.module.css","assets/images/perfomance-logo.png","assets/images/stream-logo.png","components/Performances/AudioUpload/AudioUpload.tsx","components/Login/Form/Form.tsx","components/Login/Login.tsx","util/apiManager.ts","util/history.ts","hoc/Auxiliary.tsx","components/UI/Spinner/Spinner.tsx","store/actions/stream.ts","store/actions/actionTypes.ts","store/actions/sidebar.ts","util/api.tsx","components/Performances/AudioItem/AudioItem.tsx","util/keyChars.ts","store/actions/audioUpload.ts","components/Performances/EditPerformance/EditPerformance.tsx","components/PopupConfirmationDialog/PopupConfirmationDialog.tsx","components/LanguageSelectionPopup/apiManagerLanguage.ts","components/LanguageSelectionPopup/DropdownLanguage.tsx","components/LanguageSelectionPopup/LanguageSelectionPopup.tsx","components/Performances/Performance/Performance.tsx","components/Performances/PerformanceList/PerformanceList.tsx","components/Performances/PerformancesPage.tsx","hoc/WithClass.tsx","components/Stream/StreamAudios/StreamAudio/StreamAudio.tsx","components/Stream/StreamAudios/StreamAudios.tsx","components/UI/Button/Button.tsx","components/Stream/StreamHead/StreamHead.tsx","util/playbackManager.ts","components/Stream/Stream.tsx","components/Toolbar/Header/Logo/Logo.tsx","components/Toolbar/Header/Logout/Logout.tsx","components/Toolbar/Header/Header.tsx","components/Toolbar/Sidebar/ActionSection/ButtonSection/ButtonSection.tsx","components/Toolbar/Sidebar/ActionSection/PlaySection/PlaySection.tsx","components/Toolbar/Sidebar/ActionSection/ActionSection.tsx","components/Toolbar/Sidebar/SidebarItem/SidebarItem.tsx","components/Toolbar/Sidebar/Sidebar.tsx","App.tsx","serviceWorker.tsx","store/reducers/audioUploadReducer.ts","store/reducers/sidebarReducer.ts","store/reducers/streamReducer.ts","config.ts","util/signalrManager.ts","index.tsx","components/Toolbar/Sidebar/ActionSection/ButtonSection/ButtonSection.module.css","components/Stream/StreamAudios/StreamAudio/StreamAudio.module.css","components/Toolbar/Sidebar/ActionSection/PlaySection/PlaySection.module.css","components/Stream/StreamHead/StreamHead.module.css","components/UI/Spinner/Spinner.module.css","components/Toolbar/Sidebar/SidebarItem/SidebarItem.module.css","assets/images/theater-logo.png","components/Stream/StreamAudios/StreamAudios.module.css"],"names":["module","exports","HttpMethods","Login","className","id","type","placeholder","name","href","React","Component","MainLogin","width","src","Logo","alt","ApiManager","backendUrl","this","config","get","json","fetch","body","headers","method","catch","error","then","data","index","indexPerfomance","createBrowserHistory","aux","props","children","spinner","isShow","classes","Backdrop","Spinner","saveCurrentSpeechId","payload","currentSpeechId","changeStreamingStatus","status","isPlaying","changeCurrentPlaybackTime","currentPlaybackTime","changeCurrentTabId","nextId","axios","create","baseURL","AudioItem","onChangeOrderState","event","setState","order","parseInt","target","value","onChange","a","audio","files","languageId","undefined","speechIndex","parentNode","result","checkIsOriginalTextEqual","isEqual","newName","copyAudio","File","formData","FormData","append","API","post","response","onFileChange","alert","errorMessage","handleChange","onTextChange","deleteHandler","deleteItemId","onDelete","bind","tooltipRemoveToggle","state","tooltipRemoveOpen","parentElement","getElementsByClassName","namedItem","toString","click","languages","filesToUpload","fileToBeUploadData","langList","map","item","key","accept","onClick","e","handleUploadClick","file","fileName","placement","isOpen","autohide","toggle","text","length","style","color","outline","size","handleChangeOrder","pattern","onInput","KeyChars","AudioUpload","child","usedLanguages","isFirstLanguage","originalText","filesToBeUploadData","i","isNew","onAddNewFilesName","isNewFilesLoaded","onChangeIsNewFilesLoaded","push","isSpeechesCorrect","reqCount","speeches","filter","isChoosed","langs","find","errorCode","isSomeSpeechNullOrEmpty","s","uploadHandler","performanceId","update","isError","onChangeAudioUploadToInitialState","speech","put","uploadAndSaveAudioAsync","PUT","console","log","POST","message","toggleDropdown","dropdownOpen","toggleSelectedLanguage","selectedLanguage","language","l","tooltipUploadBatchOpen","tooltipUploadBatch","onBatchUpload","preventDefault","input","document","querySelector","batchUpload","isLoading","onBatchAddItem","onBatchUpdateItems","newOrder","oldOrder","speechesCount","oldSpeech","requiredSpeeches","requiredSpeech","removeNewLoadedFiles","filesNeededToBeDeleted","f","unloadFilesAsync","handleLangCheckboxChange","langState","lang","checkIfNewAudiosAreLoaded","speechIdentifier","unloadFiles","j","speechId","audioId","audiosToSpeech","noChoosedLangId","x","delete","speechItem","addItemHandler","changeAndAssignTextToSpeech","subStringIndex","search","substring","neededSpeechIndex","findIndex","sp","neededSpeech","neededFiles","neededSpeeches","includes","sort","s1","s2","checkIsOriginalTextInFileEqual","relatedAudioFiles","Math","max","apply","obj","deleteItemHandler","textChangeHandler","removeLocalSpeechesAsync","removeResponse","localNewFiles","onDeleteNewFilesName","audios","mustToBeDeletedAudios","query","slice","str","tooltipAddOpen","tooltipAddToggle","performanceSpeechesResponse","languagesResponse","b","items","compare","langItems","checked","itemsList","ref","marginTop","isDisabledBatchUpload","batchUploading","caret","multiple","connect","store","audioUpload","dispatch","nextValue","actionCreators","filename","filenames","forwardRef","EditPerformance","createRef","apimanager","apiManager","isSaved","onCancelHandler","current","confirm","handleErrors","title","description","handleSave","val","updatePerformance","JSON","stringify","history","loadData","performance","createPerformance","JSONObj","match","params","number","getPerformanceById","resp","audioComponentDidMount","Link","to","readOnly","PopupConfirmationDialog","tooltipOpen","modal","tooltipToggle","removeMethod","labelDangerButton","labelPrimaryButton","ApiManagerLanguage","DropdownLanguage","changeCurrentLanguageHandler","curLang","updateCurrentLang","currentLanguage","prevState","sortable","LanguageSelectionPopup","getLang","onAddLang","createLang","onDelLang","removeLang","onUpdateLang","updateLang","radioHandler","radioState","currentLang","nameUpdateHandler","nameChangedHandler","languageDeleteHandler","languageAddHandler","newLanguage","toggleChildComponent","inputs","buttonLabel","tag","check","Performance","tooltipEditToggle","tooltipEditOpen","deleteMethod","remove","PerformanceList","getPerformances","performances","removePerformance","arr","getElementById","onChangeCurrentTabId","PerformancesPage","Switch","Route","exact","path","render","Redirect","component","withClass","WrappedComponent","WithClass","getViewNumber","num","iconActionsClasses","icon","pop","connectingStatus","disable","join","playByIdHandler","currentAudioId","time","second","minutes","floor","seconds","convSecondsToMinutes","duration","StreamAudio","Button","hover","backgroundColor","borderRadius","fontSize","height","transitionDuration","clicked","Radium","btnStyles","btn","cursor","streamHead","playbackManager","currentTime","maxDuration","isPause","timerId","play","pause","totalDuration","setInterval","continue","reset","onChangeCurrentPlaybackTime","clearInterval","Stream","Space","repeat","changeConnectingStatus","signalRManager","connectToHub","sendCommand","onChangeConnectingStatus","disconnectFromHub","onSaveCurrentSpeechId","isFirst","onChangeStreamingStatus","playPauseHandler","checkKeys","keys","onKeyDownUpHandler","handleError","isWarning","perfomanceId","performanceName","StreamHead","StreamAudios","onKey","onSavePerformanceId","getSpeechInfo","speechesResponse","onSaveSpeeches","window","onbeforeunload","onChangeStreamStateToInitial","stream","PureComponent","Logout","Header","isAuthorized","segments","location","pathname","split","newState","logout","mainBtnClasses","act","mainBtnIconClasses","prev","next","prevNextDisable","prevSpeechHandler","nextSpeechHandler","btnSection","numAudio","playbackTime","totalTime","playbackScale","playSection","ActionSection","Ctrl","ArrowRight","ArrowLeft","currentSpeechIndex","nextSpeechId","onChangeCurrentSpeechId","prevSpeechId","ButtonSection","PlaySection","actions","actionSection","SidebarItem","NavLink","NavItem","activeClassName","NavItemActive","imgSrc","CountBlock","Sidebar","OnPerformanceClickHandler","targetTabId","isStreamConnectedToServer","newFilesName","onChangeAudioUploadToInitial","onStreamClickHandler","isVisible","updatedState","counter","perfomanceLogo","currentTabId","streamLogo","withRouter","sidebar","App","Boolean","hostname","initialState","audioUploadReducer","action","updatedNewFiles","reducer","currentSpeech","urlApi","SignalrManager","connection","backendURL","signalR","withUrl","build","on","innerHTML","start","stop","command","send","combineReducers","streamReducer","sidebarReducer","createStore","composeWithDevTools","applyMiddleware","thunk","set","configuration","app","Router","ReactDOM","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.b2721a76.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"stream\":\"Stream_stream__3Bwaj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"actionSection\":\"ActionSection_actionSection__5JsTa\"};","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAPCAYAAAAGRPQsAAABHklEQVQ4jY2TYXHDMAyFP/VGwBRCwRQ2CBuEDEIGIYPQQWghNBAaCA2EFsLbj0it57rbdOfzWfZ9fnqWjUZI6oAYAAswm9mldb4JkDRKOuk+zpIOfzHMQQMwFvkLMLuiCUiuMlVKp1pRKhRsJeVqf9dQWireui0/YY2y0wNIC5o3burigOyenYHM7QHK8luRgH7ji9nnDngDPsxs78CIT+ClAH6FiPAxYJHMZjYDe0l9BRuAo6sI4FzsL08NZQAHoFZ2V1aVWxludkSW9Oz56LnTg/67PgDABsDMFvckVGVJqSi/Y/Xr3RVPxfnSplto/QHlc78W60P0k1dS9t/QNMPLjIOjfm/auCQ1YRU4+fwIuPsXqAHuJR193H07gG81FKubwLOaxAAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAOCAYAAAAmL5yKAAAA1UlEQVQokZWSYRHCMAyF3zgMYGEWZqFIGBaQABJmYRaGhFrAwiahSPj4sVeux4CN3PWSe817TdJIfxgw+BzWEmug+4BfmC2ukZMT6wIb7Fvf9WvkUqAxnpzTv+7fCO+WXwyFeHQM0OkHOQtExwHoHB+AOxB3G4Z/sm8lTY4bSQ9J9RaBYD8V2KMc3JYWosuOQDIvAcNe0llSXozGpb6sqqqjCb2ruQKtObdFvcWg5m+asZCn7kpGYPzatBMTxcoy70JuAyB8FTBhse/+OtzC/+ZWmhJ7Akb3fLfVZgKKAAAAAElFTkSuQmCC\"","import * as React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Dropdown, DropdownItem, DropdownMenu, DropdownToggle } from \"reactstrap\";\nimport { Tooltip } from \"reactstrap\";\nimport { Dispatch } from \"redux\";\n\nimport * as actionCreators from \"../../../store/actions/index\";\nimport IGlobalStoreType from \"../../../store/state/state\";\nimport API from \"../../../util/api\";\nimport Spinner from \"../../UI/Spinner/Spinner\";\nimport AudioItem from \"../AudioItem/AudioItem\";\nimport \"./AudioUpload.css\";\n\nenum HttpMethods {\n  GET = \"GET\",\n  POST = \"POST\",\n  PUT = \"PUT\",\n  DELETE = \"DELETE\",\n}\n\nexport interface IAudioUploadProps {\n  onChangeIsNewFilesLoaded: Function;\n  onAddNewFilesName: Function;\n  onDeleteNewFilesName: Function;\n  onChangeAudioUploadToInitialState: Function;\n  isNewFilesLoaded: boolean;\n}\n\nexport interface IAudioUploadState {\n  performanceId: number;\n  languages: Array<{\n    id: number,\n    name: string,\n    isChoosed: boolean,\n  }>;\n  speeches: Array<{\n    id: number,\n    order: number,\n    text?: string,\n    isNew?: boolean,\n    onDelete: (index: number) => void,\n    onTextChange: (str: string, index: number) => void\n    onFileChange: (str: string, originalText: string, index: number, speechIndex: number) => void,\n  }>;\n  fileToBeUploadData: Array<{\n    audioId?: number,\n    fileName: any,\n    originalText: string,\n    languageId: number,\n    speechIndex: number,\n    isNew: boolean,\n  }>;\n  tooltipAddOpen: boolean;\n  dropdownOpen: boolean;\n  selectedLanguage?: {\n    id: number,\n    name: string,\n  };\n  tooltipUploadBatch: boolean;\n  isLoading: boolean;\n}\n\nclass AudioUpload extends React.Component<IAudioUploadProps, IAudioUploadState> {\n  public child = React.createRef<AudioItem>();\n  private usedLanguages: Array<{ id: number, name: string }> = [];\n  private isFirstLanguage: boolean = true;\n\n  constructor(props: IAudioUploadProps) {\n    super(props);\n\n    this.state = {\n      performanceId: -1,\n      languages: [],\n      speeches: [],\n      fileToBeUploadData: [],\n      tooltipAddOpen: false,\n      dropdownOpen: false,\n      selectedLanguage: undefined,\n      tooltipUploadBatch: false,\n      isLoading: true,\n    };\n\n    this.addItemHandler = this.addItemHandler.bind(this);\n    this.deleteItemHandler = this.deleteItemHandler.bind(this);\n    this.uploadHandler = this.uploadHandler.bind(this);\n    this.textChangeHandler = this.textChangeHandler.bind(this);\n    this.tooltipAddToggle = this.tooltipAddToggle.bind(this);\n    // this.handleLangCheckboxChange = this.handleLangCheckboxChange.bind(this);\n  }\n\n  public onFileChange = (fileName: string, originalText: string, languageId: number, speechIndex: number) => {\n    const filesToBeUploadData = [...this.state.fileToBeUploadData];\n\n    if (this.state.fileToBeUploadData.length > 0) {\n      for (let i = 0; i < filesToBeUploadData.length; i++) {\n        if (filesToBeUploadData[i].speechIndex === speechIndex && filesToBeUploadData[i].languageId === languageId) {\n          filesToBeUploadData[i].fileName = fileName;\n          filesToBeUploadData[i].isNew = true;\n\n          this.props.onAddNewFilesName(fileName);\n          if (!this.props.isNewFilesLoaded) {\n            this.props.onChangeIsNewFilesLoaded(true);\n          }\n\n          this.setState({\n            fileToBeUploadData: filesToBeUploadData,\n          });\n\n          return;\n        }\n      }\n    }\n    const item = {\n      fileName,\n      originalText,\n      languageId,\n      speechIndex,\n      isNew: true,\n    };\n\n    filesToBeUploadData.push(item);\n\n    this.setState({\n      fileToBeUploadData: filesToBeUploadData,\n    });\n\n    this.props.onAddNewFilesName(item.fileName);\n    if (!this.props.isNewFilesLoaded) {\n      this.props.onChangeIsNewFilesLoaded(true);\n    }\n  }\n\n  // checking if text any speech is empty\n  public isSpeechesCorrect = () => {\n    // checking if number of real loaded audios equals expected loaded audios\n    const reqCount = this.state.speeches.length * this.state.languages.filter((item) => item.isChoosed).length;\n    const langs = [...this.state.languages.filter((i) => i.isChoosed === true).map((item) => item.id)];\n    const actualCount = this.state.fileToBeUploadData.filter((item) => langs.find((i) => i === item.languageId)).length;\n    if (reqCount !== actualCount) {\n      return {\n        errorCode: -1,\n        errorMessage: \"Завантажте аудіо до всіх мов!\",\n      };\n    }\n\n    let isSomeSpeechNullOrEmpty = false;\n    this.state.speeches.filter((s) => {\n      if (s.text === undefined || s.text === null || s.text === \"\") {\n        isSomeSpeechNullOrEmpty = true;\n      }\n    });\n\n    if (isSomeSpeechNullOrEmpty) {\n      return {\n        errorCode: -2,\n        errorMessage: \"Введіть текст до всіх фраз!\",\n      };\n    }\n  }\n\n  // Uploading speeches and file data. Very massive and probably needs\n  public uploadHandler = async (performanceId: number, update: boolean) => {\n    // @ts-ignore\n    let isError: Error = null;\n    // if evertything is OK then upload\n    this.props.onChangeAudioUploadToInitialState();\n    if (update) {\n      for (let i = 0; i < this.state.speeches.length; i++) {\n        const speech = {\n          id: this.state.speeches[i].id,\n          text: this.state.speeches[i].text,\n          order: this.state.speeches[i].order,\n          isNew: this.state.speeches[i].isNew,\n          performanceId,\n        };\n\n        // Cheking for new speeches\n        if (!speech.isNew) {\n          await API.put(`speech/${speech.id}`, speech, {\n            headers: {\n              \"Accept\": \"application/json\",\n              \"Content-Type\": \"application/json\",\n              \"Access-Control-Allow-Origin\": \"*\",\n            },\n          }).then(async (response) => {\n            await this.uploadAndSaveAudioAsync(speech.id, i, HttpMethods.PUT)\n              .catch((error) => {\n                console.log(`[uploadAndSaveAudioAsync]: ${error}`);\n                isError = error;\n              });\n          }).catch((error) => {\n            console.log(`[uploadHandler] ${error}`);\n            isError = error;\n          });\n\n        } else { // if speeches is new just uploading them\n          // creating speech and relative to him audios\n\n          await API.post(\"speech\", speech, {\n            headers: {\n              \"Accept\": \"application/json\",\n              \"Content-Type\": \"application/json\",\n              \"Access-Control-Allow-Origin\": \"*\",\n            },\n          }).then(async (response) => {\n            await this.uploadAndSaveAudioAsync(response.data.id, i, HttpMethods.POST)\n              .catch((error) => {\n                console.log(`[uploadAndSaveAudioAsync]: ${error}`);\n                isError = error;\n              });\n          }).catch((error) => {\n            console.log(`[uploadHandler] ${error}`);\n            isError = error;\n          });\n\n        }\n\n        if (isError !== null) {\n          return {\n            errorCode: -3,\n            errorMessage: isError.message,\n          };\n        }\n      }\n\n    } else { // if it's not an update just uploading the speeches\n      for (let i = 0; i < this.state.speeches.length; i++) {\n        const speech = {\n          id: 0,\n          text: this.state.speeches[i].text,\n          performanceId,\n          order: this.state.speeches[i].order,\n        };\n\n        // creating speech and relative to him audios\n        await API.post(\"speech\", speech, {\n          headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json\",\n            \"Access-Control-Allow-Origin\": \"*\",\n          },\n        }).then(async (response) => {\n          await this.uploadAndSaveAudioAsync(response.data.id, i, HttpMethods.POST)\n            .catch((error) => {\n              console.log(`[uploadAndSaveAudioAsync]: ${error}`);\n              isError = error;\n            });\n        }).catch((error) => {\n          console.log(`[uploadHandler] ${error}`);\n          isError = error;\n        });\n\n        if (isError !== null) {\n          return {\n            errorCode: -3,\n            errorMessage: isError.message,\n          };\n        }\n      }\n    }\n  }\n\n  // Getting all data. (languages, speeches to performance and audios to speeches)\n  public async audioComponentDidMount(performanceId: number) {\n\n    if (performanceId !== -1) {\n      const performanceSpeechesResponse = await API.get(\"performance/\" + performanceId + \"/speeches\");\n      if (performanceSpeechesResponse.status === 200) {\n        const speeches = [];\n        for (let i = 0; i < performanceSpeechesResponse.data.length; i++) {\n          const speechItem = {\n            id: performanceSpeechesResponse.data[i].id,\n            text: performanceSpeechesResponse.data[i].text,\n            order: performanceSpeechesResponse.data[i].order,\n            languages: this.state.languages,\n            onDelete: this.deleteItemHandler,\n            onTextChange: this.textChangeHandler,\n            onFileChange: this.onFileChange,\n          };\n\n          speeches.push(speechItem);\n        }\n\n        this.setState({\n          performanceId: performanceSpeechesResponse.data.performanceId,\n          speeches,\n        });\n      }\n\n      const files = [];\n      for (let i = 0; i < performanceSpeechesResponse.data.length; i++) {\n        const audiosToSpeech = await API.get(\"speech/\" + performanceSpeechesResponse.data[i].id + \"/audios\");\n\n        for (let j = 0; j < audiosToSpeech.data.length; j++) {\n          const item = {\n            audioId: audiosToSpeech.data[j].id,\n            fileName: audiosToSpeech.data[j].fileName,\n            originalText: audiosToSpeech.data[j].originalText,\n            languageId: audiosToSpeech.data[j].languageId,\n            speechIndex: audiosToSpeech.data[j].speechId,\n            isNew: false,\n          };\n\n          files.push(item);\n        }\n      }\n      const languagesResponse = await API.get(\"language\");\n\n      for (const lang of languagesResponse.data) {\n        for (const file of files) {\n          if (file.languageId === lang.id) {\n            lang.isChoosed = true;\n            break;\n          }\n          else {\n            lang.isChoosed = false;\n          }\n        }\n      }\n      if (languagesResponse.status === 200) {\n        this.setState({\n          languages: languagesResponse.data,\n        });\n      }\n\n      this.setState({\n        fileToBeUploadData: files,\n      });\n\n    } else {\n      const languagesResponse = await API.get(\"language\");\n      for (const lang of languagesResponse.data) {\n        lang.isChoosed = true;\n      }\n      if (languagesResponse.status === 200) {\n        this.setState({\n          languages: languagesResponse.data,\n        });\n      }\n    }\n\n    this.setState({\n      isLoading: false,\n    });\n  }\n\n  public tooltipAddToggle() {\n    this.setState({\n      tooltipAddOpen: !this.state.tooltipAddOpen,\n    });\n  }\n\n  // For batch uploading\n  public toggleDropdown = () => {\n    this.setState({\n      dropdownOpen: !this.state.dropdownOpen,\n    });\n  }\n\n  public toggleSelectedLanguage = (id: number) => {\n    if (this.state.selectedLanguage === undefined || this.state.selectedLanguage.id !== id) {\n      const language = this.state.languages.find((l) => l.id === id);\n\n      this.setState({\n        selectedLanguage: language,\n      });\n    }\n  }\n\n  public tooltipUploadBatchOpen = () => {\n    this.setState({\n      tooltipUploadBatch: !this.state.tooltipUploadBatch,\n    });\n  }\n\n  // triggered when click on fake batch files upload button\n  public onBatchUpload = (event: any) => {\n    event.preventDefault();\n    if (this.state.selectedLanguage !== undefined) {\n      const input = document.querySelector(\"#batchUpload\") as HTMLInputElement;\n      if (input !== null) {\n        input.click();\n      }\n    } else {\n      alert(\"Будь ласка виберіть мову, а тоді вже завантажте файли!\");\n    }\n  }\n\n  // handling batch uploading\n  public batchUpload = async (event: any) => {\n    this.setState({\n      isLoading: true,\n    });\n\n    const files = event.target.files as FileList;\n    // @ts-ignore\n    if (this.isFirstLanguage || this.state.selectedLanguage.id === this.usedLanguages[0].id) {\n      for (let i = 0; i < files.length; i++) {\n        await this.onBatchAddItem(files[i]);\n      }\n\n      this.isFirstLanguage = false;\n      this.usedLanguages.push(this.state.selectedLanguage as { id: number, name: string });\n    } else {\n      this.onBatchUpdateItems(files);\n    }\n\n    this.setState({\n      isLoading: false,\n    });\n  }\n\n  public handleChangeOrder = (newOrder: number, oldOrder: number) => {\n    const speechesCount = this.state.speeches.length;\n    if (newOrder <= speechesCount && newOrder > 0) {\n      const speeches = this.state.speeches;\n      const oldSpeech = speeches.filter((s) => s.order === oldOrder)[0];\n      if (newOrder < oldOrder) {\n        const requiredSpeeches = speeches.filter((s) => s.order >= newOrder && s.order < oldOrder);\n        for (const requiredSpeech of requiredSpeeches) {\n          requiredSpeech.order = requiredSpeech.order + 1;\n        }\n        oldSpeech.order = newOrder;\n        requiredSpeeches.push(oldSpeech);\n      } else if (newOrder > oldOrder) {\n        const requiredSpeeches = speeches.filter((s) => s.order > oldOrder && s.order <= newOrder);\n        for (const requiredSpeech of requiredSpeeches) {\n          requiredSpeech.order = requiredSpeech.order - 1;\n        }\n        oldSpeech.order = newOrder;\n        requiredSpeeches.push(oldSpeech);\n      }\n      this.setState(\n        {\n          speeches,\n        },\n      );\n    } else {\n      alert(\"Неіснуючий номер фрази!\");\n    }\n  }\n\n  public compare(a: any, b: any) {\n    if (a.order < b.order) {\n      return -1;\n    }\n    if (a.order > b.order) {\n      return 1;\n    }\n    return 0;\n  }\n\n  public removeNewLoadedFiles = async () => {\n    const filesNeededToBeDeleted = this.state.fileToBeUploadData\n      .filter((s) => s.isNew)\n      .map((f) => f.fileName);\n\n    await this.unloadFilesAsync(filesNeededToBeDeleted);\n  }\n\n  public render() {\n    const items = [...this.state.speeches].sort(this.compare);\n    const langItems = [...this.state.languages].sort((a: any, b: any) => a.name < b.name ? -1 : (a.name > b.name ? 1 : 0));\n\n    const langList = langItems.length !== 0 ?\n      langItems.map((item, index) => (\n        <label key={item.id}>\n          <a>{item.name}: </a>\n          <input\n            className=\"langCheckbox\"\n            name=\"isGoi\"\n            type=\"checkbox\"\n            checked={item.isChoosed}\n            onChange={this.handleLangCheckboxChange(item.id)}\n          />\n        </label>\n      )) :\n      <p style={{ color: \"grey\"}}> Мови відсутні. Добавте мову на початковій сторінці в менеджері мов. </p>;\n\n    const itemsList = items.length !== 0 ?\n      items.map((item, index) => (\n        <AudioItem\n          key={index}\n          id={item.id}\n          order={item.order}\n          text={item.text}\n          languages={this.state.languages.filter((item) => item.isChoosed)}\n          onDelete={item.onDelete}\n          fileToBeUploadData={this.state.fileToBeUploadData}\n          onTextChange={item.onTextChange}\n          onFileChange={item.onFileChange}\n          handleChangeOrder={this.handleChangeOrder}\n          checkIsOriginalTextEqual={this.checkIsOriginalTextInFileEqual}\n          ref={this.child}\n        />\n      )) :\n      <p style={{ color: \"grey\", marginTop: 10 }}> Добавте фразу або завантажте пакетом. </p>;\n\n    const languages = this.state.languages.filter((item) => item.isChoosed === true).map((lang) => {\n      return (\n        <DropdownItem\n          key={lang.id}\n          onClick={() => this.toggleSelectedLanguage(lang.id)}>{lang.name}</DropdownItem>\n      );\n    });\n    const selectedLanguage = this.state.selectedLanguage === undefined\n      ? \"Виберіть мову...\" : this.state.selectedLanguage.name;\n    const isDisabledBatchUpload = this.state.selectedLanguage === undefined ? true : false;\n\n    const batchUploading = (\n      <div>\n        <label>Пакетом: </label>\n        <Dropdown\n          className=\"dropdown-toggle-language\"\n          isOpen={this.state.dropdownOpen}\n          toggle={() => this.toggleDropdown()}\n          size=\"sm\">\n          <DropdownToggle caret>\n            {selectedLanguage}\n          </DropdownToggle>\n          <DropdownMenu>\n            {languages}\n          </DropdownMenu>\n        </Dropdown>\n        <input\n          type=\"file\"\n          id=\"batchUpload\"\n          className=\"inputFile\"\n          onChange={this.batchUpload}\n          // @ts-ignore\n          onClick={(event) => event.target.value = null}\n          multiple />\n        <button\n          id={\"batchUploadBtn\"}\n          className={\"fas fa-plus-circle btn-audio-add \" + (isDisabledBatchUpload ? \"disabled-btn-audio-add\" : \"\")}\n          onClick={this.onBatchUpload} />\n        <Tooltip placement=\"top\" isOpen={this.state.tooltipUploadBatch} autohide={false} target={\"batchUploadBtn\"} toggle={this.tooltipUploadBatchOpen}>\n          Завантажити аудіо</Tooltip>\n      </div>\n    );\n\n    return (\n      <div className=\"audio-upload-section\">\n        <Spinner isShow={this.state.isLoading} />\n        <div className=\"langCheckboxList\">\n          {langList}\n        </div>\n        <div className=\"col-sm-12 audio-header\">\n          <div>\n            <label>Вручну: </label>\n\n            <button className=\"fas fa-plus-circle btn-audio-add\" onClick={this.addItemHandler} id={\"addBtn\"} />\n            <Tooltip placement=\"right\" isOpen={this.state.tooltipAddOpen} autohide={false} target={\"addBtn\"} toggle={this.tooltipAddToggle}>\n              Додати фразу </Tooltip>\n          </div>\n\n          {batchUploading}\n        </div>\n        <div id=\"audio-container\" className=\"row\">\n          {itemsList}\n        </div>\n      </div>\n    );\n  }\n\n  handleLangCheckboxChange = (id: number) => (e: any) => {\n    const langs: any[] = [];\n    const langState = [...this.state.languages];\n\n    for (const lang of langState) {\n      if (lang.id === id) {\n        lang.isChoosed = !lang.isChoosed;\n        // @ts-ignore\n        if (this.state.selectedLanguage !== undefined && lang.isChoosed == false && lang.id == this.state.selectedLanguage.id) {\n          this.setState({\n            selectedLanguage: undefined,\n          });\n        }\n\n        langs.push(lang);\n      } else {\n        langs.push(lang);\n      }\n    }\n\n    this.setState({\n      languages: langs,\n    });\n  }\n\n  private checkIfNewAudiosAreLoaded = (): boolean => {\n    if (this.state.performanceId === -1) {\n      return this.state.fileToBeUploadData.length > 0 ? true : false;\n    } else {\n      const newFiles = this.state.fileToBeUploadData.filter((f) => f.isNew === true);\n      return newFiles.length > 0 ? true : false;\n    }\n  }\n\n  // Uploading audio files and creating records in database which contain data about them\n  private uploadAndSaveAudioAsync = async (speechIdentifier: number, speechIndex: number, method: HttpMethods) => {\n    const langs = [...this.state.languages.filter((i) => i.isChoosed === true).map((item) => item.id)];\n    const files = [...this.state.fileToBeUploadData.filter((item) => langs.find((i) => i === item.languageId))];\n    const unloadFiles = [...this.state.fileToBeUploadData.filter((item) => !langs.find((i) => i === item.languageId))];\n\n    for (let j = 0; j < files.length; j++) {\n      if (files[j].speechIndex === this.state.speeches[speechIndex].id) {\n        if (method === HttpMethods.POST) {\n\n          const item = {\n            fileName: files[j].fileName,\n            originalText: files[j].originalText,\n            languageId: files[j].languageId,\n            speechId: speechIdentifier,\n          };\n\n          await API.post(\"audio\", item, {\n            headers: {\n              \"Accept\": \"application/json\",\n              \"Content-Type\": \"application/json\",\n              \"Access-Control-Allow-Origin\": \"*\",\n            },\n          });\n        } else if (method === HttpMethods.PUT) {\n          const item = {\n            fileName: files[j].fileName,\n            originalText: files[j].originalText,\n            languageId: files[j].languageId,\n            speechId: speechIdentifier,\n            id: files[j].audioId,\n          };\n          if (item.id === undefined) {\n            await API.post(\"audio\", item, {\n              headers: {\n                \"Accept\": \"application/json\",\n                \"Content-Type\": \"application/json\",\n                \"Access-Control-Allow-Origin\": \"*\",\n              },\n            });\n          } else {\n            await API.put(\"audio/\" + item.id, item, {\n              headers: {\n                \"Accept\": \"application/json\",\n                \"Content-Type\": \"application/json\",\n                \"Access-Control-Allow-Origin\": \"*\",\n              },\n            });\n          }\n\n          const audiosToSpeech = await API.get(\"speech/\" + item.speechId + \"/audios\");\n\n          const noChoosedLangId = this.state.languages.filter((item) => item.isChoosed === false).map((x) => x.id);\n          for (const file of audiosToSpeech.data) {\n            if (noChoosedLangId.find((i) => i === file.languageId)) {\n              await API.delete(`audio/${file.id}`, {\n                headers: {\n                  \"Accept\": \"application/json\",\n                  \"Content-Type\": \"application/json\",\n                  \"Access-Control-Allow-Origin\": \"*\",\n                },\n              });\n            }\n          }\n        }\n      }\n    }\n\n    this.unloadFilesAsync(unloadFiles.map((item) => item.fileName));\n  }\n\n  private onBatchAddItem = async (file: File) => {\n    const speechItem = this.addItemHandler();\n\n    this.changeAndAssignTextToSpeech(speechItem, file);\n\n    // upload audio to file system of server\n\n    // @ts-ignore\n    const newName = `${speechItem.id}_${this.state.selectedLanguage.id}.mp3`;\n    const copyAudio = new File([file], newName, { type: file.type });\n\n    const formData = new FormData();\n    formData.append(\"File\", copyAudio);\n\n    await API.post(\"audio/upload\", formData, {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\",\n      },\n    }).then(() => {\n      // @ts-ignore\n      this.onFileChange(copyAudio.name, file.name, this.state.selectedLanguage.id, speechItem.id);\n    }).catch(() => {\n      alert(\"Sorry! Some error was occured!\");\n      return;\n    });\n  }\n\n  private changeAndAssignTextToSpeech = (speechItem: any, file: File) => {\n    // remove suffix \".mp3\" from file name\n    const regex = /\\.mp3$/;\n    const subStringIndex = file.name.search(regex);\n    const originalText = file.name.substring(0, subStringIndex);\n\n    // create cope needed speech and assign the file name\n    const neededSpeechIndex = this.state.speeches.findIndex((sp) => sp.id === speechItem.id);\n    const neededSpeech = { ...this.state.speeches[neededSpeechIndex] };\n    neededSpeech.text = originalText;\n\n    // update the speech\n    const speeches = [...this.state.speeches];\n    speeches[neededSpeechIndex] = neededSpeech;\n    this.setState({\n      speeches,\n    });\n  }\n\n  private onBatchUpdateItems = async (files: FileList) => {\n    const neededFiles = this.state.fileToBeUploadData\n      // @ts-ignore\n      .filter((f) => f.languageId === this.state.selectedLanguage.id)\n      .map((f) => f.speechIndex);\n\n    const neededSpeeches = this.state.speeches.filter((s) => {\n      return !neededFiles.includes(s.id);\n    }).sort((s1, s2) => s1.order > s2.order ? 1 : -1);\n\n    if (files.length <= neededSpeeches.length) {\n      // checking if audio filename if one language is equal to audio filename another language (must be equal!)\n      let result: { isEqual: boolean, errorMessage: string } = { isEqual: true, errorMessage: \"\" };\n\n      for (let i = 0; i < files.length; i++) {\n        result = this.checkIsOriginalTextInFileEqual(files[i], neededSpeeches[i].id);\n        if (!result.isEqual) {\n          break;\n        }\n      }\n\n      if (result.isEqual) {\n        for (let i = 0; i < files.length; i++) {\n          const audio = files[i];\n\n          // @ts-ignore\n          const newName = `${neededSpeeches[i].id}_${this.state.selectedLanguage.id}.mp3`;\n          const copyAudio = new File([audio], newName, { type: audio.type });\n\n          const formData = new FormData();\n          formData.append(\"File\", copyAudio);\n\n          await API.post(\"audio/upload\", formData, {\n            headers: {\n              \"content-type\": \"multipart/form-data\",\n            },\n          })\n            // @ts-ignore\n            .then(() => this.onFileChange(copyAudio.name, audio.name, this.state.selectedLanguage.id, neededSpeeches[i].id))\n            .catch(() => alert(\"Sorry, some error occured...\"));\n        }\n      } else {\n        alert(result.errorMessage);\n      }\n    } else {\n      alert(\"Некоретна вибрана кількість файлів.\");\n    }\n  }\n\n  private checkIsOriginalTextInFileEqual = (file: File, speechId: number): { isEqual: boolean, errorMessage: string } => {\n    const relatedAudioFiles = [\n      ...this.state.fileToBeUploadData.filter((f) => f.speechIndex === speechId),\n    ];\n\n    if (relatedAudioFiles.length > 0) {\n      if (relatedAudioFiles[0].originalText !== file.name) {\n        const neededSpeech = this.state.speeches.find((s) => s.id === speechId);\n        if (neededSpeech !== undefined) {\n          return {\n            isEqual: false,\n            errorMessage: `Ім'я аудіо файлу не співпадає з іменем файлу, ` +\n              `що був вже завантажений до даної репліки під номером ${neededSpeech.order}.`,\n          };\n        } else {\n          return {\n            isEqual: true,\n            errorMessage: \"Error!\",\n          };\n        }\n      }\n    }\n\n    return {\n      isEqual: true,\n      errorMessage: \"\",\n    };\n  }\n\n  private addItemHandler = () => {\n    const speeches = this.state.speeches;\n    const maxSpeechId = this.state.speeches.length !== 0 ? Math.max.apply(null, this.state.speeches.map((obj) => obj.id)) + 1 : 0;\n\n    const speechItem = {\n      id: maxSpeechId,\n      text: \"\",\n      order: 1,\n      languages: this.state.languages,\n      isNew: true,\n      onDelete: this.deleteItemHandler,\n      onTextChange: this.textChangeHandler,\n      onFileChange: this.onFileChange,\n    };\n    if (speeches.length !== 0) {\n      speechItem.order = this.state.speeches.length !== 0 ? Math.max.apply(null, this.state.speeches.map((obj) => obj.order)) + 1 : 1;\n    }\n    speeches.push(speechItem);\n\n    this.setState({\n      speeches,\n    });\n\n    return {\n      ...speechItem,\n    };\n  }\n\n  private deleteItemHandler = async (index: number) => {\n    this.setState({\n      isLoading: true,\n    });\n    const neededSpeech = this.state.speeches.find((s) => s.id === index);\n    if (neededSpeech !== undefined) {\n      if (this.state.performanceId === -1) {\n        await this.removeLocalSpeechesAsync(index)\n          .catch((error) => alert(error));\n      } else {\n        if (!neededSpeech.isNew) {\n          const removeResponse = await API.delete(\"speech/\" + index);\n\n          if (removeResponse.status === 204) {\n            const localNewFiles = this.state.fileToBeUploadData.filter((f) => f.isNew && f.speechIndex === index);\n\n            if (localNewFiles.length > 0) {\n              this.props.onDeleteNewFilesName(localNewFiles);\n              await this.unloadFilesAsync(localNewFiles.map((f) => f.fileName));\n            }\n\n            const speeches = this.state.speeches.filter((obj) => {\n              return obj.id !== index;\n            });\n\n            const requiredSpeeches = speeches.filter((s) => s.order > neededSpeech.order);\n            for (const requiredSpeech of requiredSpeeches) {\n              requiredSpeech.order = requiredSpeech.order - 1;\n            }\n\n            const audios = this.state.fileToBeUploadData.filter((obj) => {\n              return obj.speechIndex !== index;\n            });\n\n            this.setState({\n              speeches,\n              fileToBeUploadData: audios,\n            });\n          } else {\n            alert(removeResponse.data);\n          }\n        } else {\n          await this.removeLocalSpeechesAsync(index)\n            .catch((error) => alert(error));\n        }\n      }\n    }\n\n    this.setState({\n      isLoading: false,\n    });\n  }\n\n  private removeLocalSpeechesAsync = async (index: number): Promise<void> => {\n    const speeches = this.state.speeches.filter((obj) => {\n      return obj.id !== index;\n    });\n\n    const mustToBeDeletedAudios: string[] = [];\n    const audios = this.state.fileToBeUploadData.filter((obj) => {\n      if (obj.speechIndex !== index) {\n        return obj;\n      } else {\n        mustToBeDeletedAudios.push(obj.fileName);\n      }\n    });\n\n    this.props.onDeleteNewFilesName(mustToBeDeletedAudios);\n    await this.unloadFilesAsync(mustToBeDeletedAudios);\n    const neededSpeech = this.state.speeches.find((s) => s.id === index);\n\n    // @ts-ignore\n    const requiredSpeeches = speeches.filter((s) => s.order > neededSpeech.order);\n    for (const requiredSpeech of requiredSpeeches) {\n      requiredSpeech.order = requiredSpeech.order - 1;\n    }\n    this.setState({\n      speeches,\n      fileToBeUploadData: audios,\n    });\n  }\n\n  private unloadFilesAsync = async (mustToBeDeletedAudios: string[]) => {\n    if (mustToBeDeletedAudios.length > 0) {\n      let query = \"?\";\n      for (const audio of mustToBeDeletedAudios) {\n        query += `files=${audio}&`;\n      }\n      query.slice(query.length - 1, 1);\n\n      await API.delete(\"/audio/unload/\" + query);\n    }\n  }\n\n  private textChangeHandler = (str: string, index: number) => {\n    const speeches = [...this.state.speeches];\n\n    for (let i = 0; i < speeches.length; i++) {\n      if (speeches[i].id === index) {\n        speeches[i].text = str;\n      }\n    }\n\n    this.setState({\n      speeches,\n    });\n  }\n}\n\nconst mapDispatchToProps = (dispatch: Dispatch) => {\n  return {\n    onChangeIsNewFilesLoaded: (nextValue: boolean) => dispatch(actionCreators.changeIsNewFilesLoaded(nextValue)),\n    onAddNewFilesName: (filename: string) => dispatch(actionCreators.addNewFilesName(filename)),\n    onDeleteNewFilesName: (filenames: string[]) => dispatch(actionCreators.deleteNewFilename(filenames)),\n    onChangeAudioUploadToInitialState: () => dispatch(actionCreators.changeAudioUploadToInitialState()),\n  };\n};\n\nconst mapStateToProps = (store: IGlobalStoreType) => {\n  return {\n    isNewFilesLoaded: store.audioUpload.isNewFilesLoaded,\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps, null, { forwardRef: true })(AudioUpload);\n","import React from 'react';\nimport './Form.css';\n\n\nclass Login extends React.Component {\n    render() {\n        return (\n\n            <div className=\"login-form\">\n\n                <div className=\"main-div\">\n                    <div >\n                        <h2>Вхід</h2>\n                    </div>\n\n                    <form id=\"Login\" >\n\n                        <div className=\"form-group\">\n                            <input type=\"email\" className=\"form-control\" id=\"inputEmail\" placeholder=\"Логін\" />\n                        </div>\n\n                        <div className=\"form-group\">\n                            <input type=\"password\" className=\"form-control\" id=\"inputPassword\" placeholder=\"Пароль\" />\n                        </div>\n\n                        <button type=\"submit\" className=\"btn btn-primary\">Вхід</button>\n\n                        <label className=\"remember\">\n                            <span>Запам'ятати</span> <span><input id=\"remember-me\" name=\"remember-me\" type=\"checkbox\" /></span>\n                        </label>\n\n                        <div id=\"register-link\" className=\"text-right\">\n                            <a href=\"#\" className=\"text-info\" >Забули пароль?</a>\n                        </div>\n\n                    </form>\n\n                </div>\n            </div>\n        )\n    }\n}\nexport default Login;","import React, { Component } from 'react';\nimport './Login.css';\nimport Logo from '../../assets/images/theater-logo.png';\nimport Form from './Form/Form';\n\nclass MainLogin extends React.Component {\n\n    render() {\n        return (\n\n            <div className=\"MainLogin\">\n                <img className=\"logoImg\" width=\"200px\" src={Logo} alt=\"\" />\n                <Form />\n            </div>\n        )\n    }\n}\n\nexport default MainLogin;","import config from \"react-global-configuration\";\n\nclass ApiManager {\n    public backendUrl = \"\";\n\n    constructor() {\n        this.backendUrl = config.get(\"urlApi\");\n    }\n\n    public async createPerformance(json: string): Promise<Response> {\n        return await fetch(`${this.backendUrl}api/Performance`, {\n            body: json,\n            headers: {\n                \"Accept\": \"application/json\",\n                \"Access-Control-Allow-Origin\": \"*\",\n                \"Content-Type\": \"application/json\",\n            },\n            method: \"POST\",\n        }).catch((error) => {\n            return error;\n        });\n    }\n\n    public async updatePerformance(json: string, id: number): Promise<Response> {\n        return await fetch(`${this.backendUrl}api/Performance/${id}`, {\n            body: json,\n            headers: {\n                \"Accept\": \"application/json\",\n                \"Access-Control-Allow-Origin\": \"*\",\n                \"Content-Type\": \"application/json\",\n            },\n            method: \"PUT\",\n        }).catch((error) => {\n            return error;\n        });\n    }\n\n    public async getPerformances(): Promise<Response> {\n        return await fetch(`${this.backendUrl}api/Performance`, {\n            headers: {\n                \"Accept\": \"application/json\",\n                \"Access-Control-Allow-Origin\": \"*\",\n                \"Content-Type\": \"application/json\",\n            },\n            method: \"GET\",\n        }).then((data) => {\n            return data;\n        }).catch((error) => {\n            return error;\n        });\n    }\n\n    public async getPerformanceById(index: number): Promise<Response> {\n        return await fetch(`${this.backendUrl}api/Performance/${index}`, {\n            headers: {\n                \"Accept\": \"application/json\",\n                \"Access-Control-Allow-Origin\": \"*\",\n                \"Content-Type\": \"application/json\",\n            },\n            method: \"GET\",\n        }).catch((error) => {\n            return error;\n        });\n    }\n\n    public async removePerformance(index: number): Promise<Response> {\n        return await fetch(`${this.backendUrl}api/Performance/${index}`, {\n            headers: {\n                \"Accept\": \"application/json\",\n                \"Access-Control-Allow-Origin\": \"*\",\n                \"Content-Type\": \"application/json\",\n            },\n            method: \"DELETE\",\n        }).catch((error) => {\n            return error;\n        });\n    }\n\n    // Using for display list of speeches on stream page\n    public async getSpeechInfo(indexPerfomance: number): Promise<Response> {\n        return await fetch(`${this.backendUrl}api/performance/${indexPerfomance}/speeches`, {\n            headers: {\n                \"Accept\": \"application/json\",\n                \"Access-Control-Allow-Origin\": \"*\",\n                \"Content-Type\": \"application/json\",\n            },\n            method: \"GET\",\n        }).catch((error) => {\n            return error;\n        });\n    }\n}\n\nexport default ApiManager;\n","// history.js\nimport { createBrowserHistory } from \"history\";\n\nexport default createBrowserHistory({\n  /* pass a configuration object here if needed */\n});\n","const aux = (props: any) => props.children;\n\nexport default aux;\n","import React from \"react\";\n\nimport Aux from \"../../../hoc/Auxiliary\";\nimport classes from \"./Spinner.module.css\";\n\ninterface ISpinnerProps {\n    isShow: boolean;\n}\n\nconst spinner = (props: ISpinnerProps) => {\n    return (\n        props.isShow ? (\n            <Aux>\n                <div className={classes.Backdrop}></div>\n                <div className={classes.Spinner}>Loading...</div>\n            </Aux>\n        ) : null\n    );\n};\n\nexport default spinner;\n","import ApiManager from \"../../util/apiManager\";\nimport * as actionTypes from \"./actionTypes\";\n\n// Save performance Id in central Store\nexport const savePerformanceId = (id: number) => {\n    return {\n        payload: {\n            id,\n        },\n        type: actionTypes.SAVE_PERFORMANCE_ID,\n    };\n};\n\n// Load Speeches and store them in central store\nexport const saveSpeeches = (data: any) => {\n    return {\n        payload: {\n            speeches: data,\n        },\n        type: actionTypes.LOAD_SPEECHES,\n    };\n};\n\n// Save new current speech id in central store\nexport const saveCurrentSpeechId = (id: number) => {\n    return {\n        payload: {\n            currentSpeechId: id,\n        },\n        type: actionTypes.SAVE_CURRENT_SPEECH_ID,\n    };\n};\n\n// Change streaming status to the opposite previous\nexport const changeStreamingStatus = (status: boolean) => {\n    return {\n        payload: {\n            isPlaying: status,\n        },\n        type: actionTypes.CHANGE_STREAMING_STATUS,\n    };\n};\n\n// Change stream state to initial\nexport const changeStreamStateToInitial = () => {\n    return {\n        type: actionTypes.CHANGE_STREAM_STATE_TO_INITIAL,\n    };\n};\n\n// Change current playback time\nexport const changeCurrentPlaybackTime = (currentPlaybackTime: number) => {\n    return {\n        payload: {\n            currentPlaybackTime,\n        },\n        type: actionTypes.CHANGE_CURRENT_PLAYBACK_TIME,\n    };\n};\n\n// Change connecting status\nexport const changeConnectingStatus = (status: boolean) => {\n    return {\n        payload: {\n            status,\n        },\n        type: actionTypes.CHANGE_CONNECTING_STATUS,\n    };\n};\n","// For streaming\nexport const SAVE_PERFORMANCE_ID = \"SAVE_PERFORMANCE_ID\";\nexport const LOAD_SPEECHES = \"LOAD_SPEECHES\";\nexport const SAVE_CURRENT_SPEECH_ID = \"SAVE_CURRENT_SPEECH_ID\";\nexport const CHANGE_STREAMING_STATUS = \"CHANGE_ISPLAYING_STATUS\";\nexport const CHANGE_STREAM_STATE_TO_INITIAL = \"CHANGE_STREAM_STATE_TO_INITIAL\";\nexport const CHANGE_CURRENT_PLAYBACK_TIME = \"CHANGE_CURRENT_PLAYBACK_TIME\";\nexport const CHANGE_CONNECTING_STATUS = \"CHANGE_CONNECTING_STATUS\";\n\n// For Sidebar\nexport const CHANGE_CURRENT_TAB_ID = \"CHANGE_CURRENT_TAB_ID\";\n\n// For AudioUpload\nexport const CHANGE_IS_NEW_FILES_LOADED = \"CHANGE_IS_NEW_FILES_LOADED\";\nexport const ADD_NEW_FILES_NAME = \"ADD_NEW_FILES_NAME\";\nexport const DELETE_NEW_FILES_NAME = \"DELETE_NEW_FILES_NAME\";\nexport const CHANGE_AUDIO_UPLOAD_TO_INITIAL_STATE = \"CHANGE_TO_AUDIO_UPLOAD_INITIAL_STATE\";\n","import * as actionTypes from \"./actionTypes\";\n\n// Change id in central store\nexport const changeCurrentTabId = (nextId: number) => {\n    return {\n        type: actionTypes.CHANGE_CURRENT_TAB_ID,\n        payload: {\n            nextId,\n        },\n    };\n};\n","import axios from \"axios\";\n\nexport default axios.create({\n  baseURL: `https://3.121.195.219/api/`,\n});\n","import * as React from \"react\";\nimport { Button, Tooltip } from \"reactstrap\";\nimport API from \"../../../util/api\";\nimport \"./AudioItem.css\";\n\nexport interface IAudioItemProps {\n  id: number;\n  order: number;\n  text?: string;\n\n  languages: Array<{\n    id: number,\n    name: string,\n    isChoosed: boolean,\n  }>;\n\n  fileToBeUploadData: Array<{\n    audioId?: number,\n    fileName: any,\n    languageId: number,\n    speechIndex: number,\n  }>;\n\n  onDelete: (index: number) => void;\n  onTextChange: (str: string, index: number) => void;\n  onFileChange: (fileName: string, originalText: string, languageId: number, speechIndex: number) => void;\n  handleChangeOrder: (newOrder: number, oldOrder: number) => void;\n  checkIsOriginalTextEqual: (file: File, speechId: number) => { isEqual: boolean, errorMessage: string };\n}\n\ninterface IAudioItemState {\n  tooltipRemoveOpen: boolean;\n  order: number;\n}\n\nexport default class AudioItem extends React.Component<IAudioItemProps, IAudioItemState> {\n  constructor(props: IAudioItemProps) {\n    super(props);\n\n    this.handleChange = this.handleChange.bind(this);\n    this.deleteHandler = this.deleteHandler.bind(this);\n    this.tooltipRemoveToggle = this.tooltipRemoveToggle.bind(this);\n    this.state = {\n      tooltipRemoveOpen: false,\n      order: this.props.order,\n    };\n  }\n\n  public handleUploadClick(event: any) {\n    const parent = event.target.parentElement.parentElement as HTMLElement;\n    const ch = parent.getElementsByClassName(\"choose-audio-btn\").namedItem(event.target.id.toString()) as HTMLElement;\n    ch.click();\n  }\n\n  public tooltipRemoveToggle() {\n    this.setState({\n      tooltipRemoveOpen: !this.state.tooltipRemoveOpen,\n    });\n  }\n\n  public render() {\n    const languages = [...this.props.languages];\n    const filesToUpload = [...this.props.fileToBeUploadData];\n    const langList = languages.map((item, index) => (\n      <div className=\"row\" key={item.id} id={index.toString()}>\n        <div className=\"col-sm-2 vertical-middle\">\n          {item.name}:\n        </div>\n\n        <input\n          key={index}\n          className=\"choose-audio-btn\"\n          id={item.id.toString()}\n          type=\"file\"\n          accept=\"audio/*\"\n          onChange={this.onChange}\n          // @ts-ignore\n          onClick={(e) => e.target.value = null}\n        />\n        <button id={item.id.toString()} className=\"btn-audio-upload\" onClick={this.handleUploadClick}>Завантажити</button>\n\n        <div className=\"col-sm-6 vertical-middle\">\n          {filesToUpload.map((file) => {\n            if (file.speechIndex === this.props.id && file.languageId === item.id) {\n              return <span key={file.speechIndex}>{file.fileName}</span>;\n            }\n          })}\n        </div>\n      </div>\n    ));\n\n    return (\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"delete-item\">\n            <button onClick={this.deleteHandler} className=\"btn-audio-item-delete\" id={\"removeButton\" + this.props.id}>\n              <i id={this.props.id.toString()} className=\"fas fa-times\" ></i>\n            </button>\n            <Tooltip placement=\"left\" isOpen={this.state.tooltipRemoveOpen} autohide={true} target={\"removeButton\" + this.props.id} toggle={this.tooltipRemoveToggle}>\n              Видалити фразу </Tooltip>\n          </div>\n          <div className=\"audio-item\">\n            <div className=\"col-sm-12\">\n              <div className=\"spanOrder\">№ - {this.props.order}</div>\n              <textarea\n                id={this.props.id.toString()}\n                onChange={this.handleChange}\n                className=\"audio-text\"\n                placeholder=\"Введіть оригінал тексту до аудіо.\"\n                value={this.props.text}\n              />\n            </div>\n            <div className=\"col-sm-8\" id={this.props.id.toString()}>\n\n              {langList.length > 0 ? langList : <p style={{ color: \"red\" }}>Виберіть мову</p>}\n              <Button outline color=\"primary\" size=\"sm\" onClick={() => {\n                this.props.handleChangeOrder(this.state.order, this.props.order);\n              }}>Змістити в</Button>\n              <input className=\"inputOrder\" type=\"number\" pattern=\"[0-9]*\" onInput={this.onChangeOrderState.bind(this)} />\n\n            </div>\n\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  private onChangeOrderState = (event: any) => {\n    this.setState({\n      order: parseInt(event.target.value, 10),\n    },\n    );\n  }\n\n  private onChange = async (event: any) => {\n    const audio = event.target.files[0];\n    const languageId = parseInt(event.target.id, undefined);\n    const speechIndex = parseInt(event.target.parentNode.parentNode.id, undefined);\n\n    const result = this.props.checkIsOriginalTextEqual(audio, speechIndex);\n\n    if (result.isEqual) {\n      const newName = `${speechIndex}_${languageId}.mp3`;\n      const copyAudio = new File([audio], newName, { type: audio.type });\n      const formData = new FormData();\n      formData.append(\"File\", copyAudio);\n\n      await API.post(\"audio/upload\", formData, {\n        headers: { \"Content-Type\": \"multipart/form-data\" },\n      }).then((response) => {\n        this.props.onFileChange(copyAudio.name, audio.name, languageId, speechIndex);\n      });\n    } else {\n      alert(result.errorMessage);\n    }\n  }\n\n  private handleChange = (event: any) => {\n    this.props.onTextChange(event.target.value, parseInt(event.target.id, undefined));\n  }\n\n  private deleteHandler = (event: any) => {\n    const deleteItemId = parseInt(event.target.id, undefined);\n    this.props.onDelete(deleteItemId);\n  }\n}\n","export enum KeyChars {\n    Ctrl = \"Control\",\n    ArrowRight = \"ArrowRight\",\n    ArrowLeft = \"ArrowLeft\",\n    Space = \" \",\n    Tab = \"Tab\",\n}\n","import API from \"../../util/api\";\nimport * as actionTypes from \"./actionTypes\";\n\n// changing isNewFilesLoaded status\nexport const changeIsNewFilesLoaded = (nextValue: boolean) => {\n    return {\n        type: actionTypes.CHANGE_IS_NEW_FILES_LOADED,\n        payload: {\n            nextValue,\n        },\n    };\n};\n\n// adding new filesname\nexport const addNewFilesName = (filename: string) => {\n    return {\n        type: actionTypes.ADD_NEW_FILES_NAME,\n        payload: {\n            filename,\n        },\n    };\n};\n\n// deleting new files name\nexport const deleteNewFilename = (filenames: string[]) => {\n    return {\n        type: actionTypes.DELETE_NEW_FILES_NAME,\n        payload: {\n            filenames,\n        },\n    };\n};\n\nexport const changeAudioUploadToInitialState = () => {\n    return {\n        type: actionTypes.CHANGE_AUDIO_UPLOAD_TO_INITIAL_STATE,\n        payload: {\n        },\n    };\n};\n","import React, { Component, MouseEvent } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport apiManager from \"../../../util/apiManager\";\nimport history from \"../../../util/history\";\nimport Spinner from \"../../UI/Spinner/Spinner\";\nimport AudioUpload from \"../AudioUpload/AudioUpload\";\nimport \"./EditPerformance.css\";\n\ninterface IEditPerformanceState {\n    id: number;\n    title: string;\n    description: string;\n    isShow: boolean;\n}\n\ninterface IEditPerformanceProps {\n    match: {\n        params: {\n            number: any,\n        },\n    };\n\n    upload: any;\n}\n\nclass EditPerformance extends Component<IEditPerformanceProps, IEditPerformanceState> {\n    // @ts-ignore\n    public child = React.createRef<AudioUpload>();\n    public apimanager = new apiManager();\n\n    private isSaved: boolean = false;\n\n    constructor(props: IEditPerformanceProps) {\n        super(props);\n        this.state = {\n            id: -1,\n            title: \"\",\n            description: \"\",\n            isShow: false,\n        };\n\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSave = this.handleSave.bind(this);\n    }\n\n    public handleChange(e: any) {\n        const val = e.target.value;\n\n        if (e.target.name === \"title\") {\n            this.setState({\n                title: val,\n            });\n        } else if (e.target.name === \"description\") {\n            this.setState({\n                description: val,\n            });\n        }\n    }\n\n    public async handleSave() {\n        this.setState({\n            isShow: true,\n        });\n\n        const title = this.state.title;\n        const description = this.state.description;\n\n        if (title !== \"\" && description !== \"\") {\n            // @ts-ignore\n            const isError = this.child.current.isSpeechesCorrect();\n\n            if (!isError) {\n                if (this.state.id !== -1) {\n                    const response = await this.apimanager.updatePerformance(JSON.stringify(this.state), this.state.id);\n                    if (response.status === 204) {\n                        if (!this.child.current) {\n                            return;\n                        }\n                        const result = await this.child.current.uploadHandler(this.state.id, true);\n                        \n                        if (result !== undefined) {\n                            alert(result.errorMessage);\n                            this.setState({\n                                isShow: false,\n                            });\n                            return;\n                        }\n                        history.push(\"/performance/\" + this.state.id);\n                        await this.loadData();\n                    } else {\n                        this.handleErrors(response);\n                    }\n\n                } else {\n                    const performance = {\n                        title: this.state.title,\n                        description: this.state.description,\n                    };\n                    const response = await this.apimanager.createPerformance(JSON.stringify(performance));\n                    if (response.status === 201) {\n                        if (!this.child.current) {\n                            return;\n                        }\n                        const JSONObj = await response.json();\n                        const result = await this.child.current.uploadHandler(JSONObj.id, false);\n\n                        // handling if error occured on server\n                        if (result !== undefined) {\n                            alert(result.errorMessage);\n\n                            this.setState({\n                                isShow: false,\n                            });\n                            return;\n                        }\n                        history.push(\"/performance/\" + JSONObj.id);\n                        await this.loadData();\n                    } else {\n                        this.handleErrors(response);\n                    }\n                }\n            } else {\n                alert(isError.errorMessage);\n            }\n        } else {\n            alert(\"Введіть назву та опис вистави...\");\n        }\n\n        this.setState({\n            isShow: false,\n        });\n    }\n\n    public onCancelHandler = async (event: MouseEvent) => {\n        // @ts-ignore\n        const isLoadedNewFiles = this.child.current.checkIfNewAudiosAreLoaded();\n        if (isLoadedNewFiles) {\n            let isConfirm = false;\n            if (this.state.id === -1) {\n                isConfirm = confirm(\"Були завантажені нові файли. Ви справді хочете залишити сторінку і видалити файли?\");\n            } else {\n                isConfirm = confirm(\"Були змінені деякі файли. Ви справді хочете перейти на нову сторінку і залишити старі зміни?\");\n            }\n\n            if (isConfirm) {\n                // @ts-ignore\n                await this.child.current.removeNewLoadedFiles();\n            } else {\n                event.preventDefault();\n            }\n        }\n    }\n\n    public async loadData() {\n        if (this.props.match.params.number !== \"new\") {\n            const resp = await this.apimanager.getPerformanceById(this.props.match.params.number);\n\n            if (resp.status === 200) {\n                const data = await resp.json();\n                this.setState({\n                    id: data.id,\n                    title: data.title,\n                    description: data.description,\n                });\n\n                if (!this.child.current) {\n                    return;\n                }\n\n                this.child.current.audioComponentDidMount(data.id);\n            } else {\n                this.handleErrors(resp);\n            }\n        } else {\n            if (!this.child.current) {\n                return;\n            }\n\n            this.child.current.audioComponentDidMount(this.state.id);\n        }\n    }\n\n    public render() {\n        return (\n            <div className=\"editForm\">\n                <Spinner isShow={this.state.isShow} />\n\n                <div className=\"formHeader\">\n                    <p>{this.props.match.params.number === \"new\" ? \"Створення вистави\" : \"Редагування вистави\"}</p>\n                    <div className=\"text-right\">\n                        <button className=\"saveButton\" onClick={this.handleSave} ><i className=\"fas fa-check-circle saveIcon\"></i>Зберегти</button>\n                        <Link to=\"/performance/\" onClick={this.onCancelHandler}>\n                            <button className=\"cancelButton\">\n                                <i className=\"fas fa-times-circle saveIcon\"></i>Вiдмiна\n                            </button>\n                        </Link>\n                    </div>\n                </div>\n\n                <input type=\"hidden\" readOnly={true} value={this.state.id} />\n                <p className=\"formTitles\">Назва вистави</p>\n                <input type=\"text\" name=\"title\" onChange={this.handleChange} value={this.state.title} />\n                <p className=\"formTitles\">Опис вистави</p>\n                <textarea className=\"descrField\" name=\"description\" onChange={this.handleChange} value={this.state.description} />\n\n                <AudioUpload ref={this.child}></AudioUpload>\n            </div>\n        );\n    }\n\n    public componentDidMount() {\n        this.loadData();\n    }\n\n    private handleErrors = (response: Response) => {\n        if (response.status === 500) {\n            console.log(response);\n            alert(\"Виникла помилка на сервері!\");\n        } else {\n            console.log(response);\n            alert(\"Не вдалось підключитись до серверу. Перевірте з'єднання з сервером.\");\n        }\n    }\n}\n\nexport default EditPerformance;\n","import React from \"react\";\nimport { Button, Modal, ModalBody, ModalFooter, ModalHeader } from \"reactstrap\";\nimport \"../Performances/Performance/Performance.css\";\nimport \"./PopupConfirmationDialog.css\";\n\ninterface IPopupConfirmationDialogProps {\n  removeMethod: any;\n  message: string;\n  labelDangerButton: string;\n  labelPrimaryButton: string;\n}\n\ninterface IPopupConfirmationDialogState {\n  tooltipOpen: boolean;\n  modal: boolean;\n}\n\nexport default class PopupConfirmationDialog extends React.Component<IPopupConfirmationDialogProps, IPopupConfirmationDialogState> {\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      tooltipOpen: false,\n      modal: false,\n    };\n\n    this.toggle = this.toggle.bind(this);\n    this.tooltipToggle = this.tooltipToggle.bind(this);\n  }\n\n  public toggle() {\n    this.setState({\n      tooltipOpen: false,\n      modal: !this.state.modal,\n    });\n  }\n\n  public tooltipToggle() {\n    this.setState({\n      tooltipOpen: !this.state.tooltipOpen,\n    });\n  }\n\n  public render() {\n    return (\n      <div>\n        <Modal isOpen={this.state.modal} toggle={this.toggle} className=\"removePerformancePopup\">\n          <ModalHeader\n            className=\"popupHeader\"\n            toggle={this.toggle}></ModalHeader>\n          <ModalBody\n            className=\"popupBody\">\n            {this.props.message}\n          </ModalBody>\n          <ModalFooter\n            className=\"popupHeader\">\n            <Button color=\"danger\" onClick={this.props.removeMethod}>{this.props.labelDangerButton}</Button>\n            <Button color=\"primary\" onClick={this.toggle}>{this.props.labelPrimaryButton}</Button>\n          </ModalFooter>\n        </Modal>\n      </div >\n    );\n  }\n}\n","import config from \"react-global-configuration\";\nclass ApiManagerLanguage {\n    public backendUrl = \"\";\n    constructor() {\n        this.backendUrl = config.get(\"urlApi\");\n    }\n    public async createLang(json: string): Promise<Response> {\n        const response = await fetch(`${this.backendUrl}api/Language`, {\n            method: \"POST\",\n            headers: {\n              \"Accept\": \"application/json\",\n              \"Access-Control-Allow-Origin\": \"*\",\n              \"Content-Type\": \"application/json\",\n            },\n            body: json,\n        });\n        return response;\n    }\n\n    public async updateLang(index: number, json: string): Promise<Response> {\n        const response = await fetch(`${this.backendUrl}api/Language/${index}`, {\n            method: \"PUT\",\n            headers: {\n              \"Accept\": \"application/json\",\n              \"Access-Control-Allow-Origin\": \"*\",\n              \"Content-Type\": \"application/json\",\n            },\n            body: json,\n        });\n        return response;\n    }\n    public async getLang(): Promise<Response> {\n        const response = await fetch(`${this.backendUrl}api/Language`, {\n\n            method: \"GET\",\n            headers: {\n              \"Accept\": \"application/json\",\n              \"Content-Type\": \"application/json\",\n              \"Access-Control-Allow-Origin\": \"*\",\n            },\n        });\n        return response;\n    }\n    public async getLangById(index: number): Promise<Response> {\n        const response = await fetch(`${this.backendUrl}api/Language/${index}`);\n        return response;\n    }\n    public async removeLang(index: number): Promise<Response> {\n        const response = await fetch(`${this.backendUrl}api/Language/${index}`, {\n\n            method: \"DELETE\",\n            headers: {\n              \"Accept\": \"application/json\",\n              \"Content-Type\": \"application/json\",\n              \"Access-Control-Allow-Origin\": \"*\",\n            }});\n        return response;\n    }\n}\nexport default ApiManagerLanguage;\n","import React from \"react\";\nimport { Dropdown, DropdownItem, DropdownMenu, DropdownToggle } from \"reactstrap\";\n\ninterface IDropdownLanguageState {\n    dropdownOpen: boolean;\n    currentLanguage: {\n        id: number,\n        name: string,\n    };\n}\ninterface IDropdownLanguageProps {\n    updateCurrentLang: any;\n    languages: Array<{\n        id: number,\n        name: string,\n    }>;\n}\n\nexport default class DropdownLanguage extends React.Component<IDropdownLanguageProps, IDropdownLanguageState> {\n    constructor(props: any) {\n        super(props);\n\n        this.toggle = this.toggle.bind(this);\n        this.state = {\n            currentLanguage: { id: 0, name: \"Мова\" },\n            dropdownOpen: false,\n        };\n    }\n\n    public toggle() {\n        this.setState((prevState) => ({\n            dropdownOpen: !prevState.dropdownOpen,\n        }));\n    }\n\n    public changeCurrentLanguageHandler = (lang: any) => {\n        const curLang = lang;\n        this.props.updateCurrentLang(curLang);\n        this.setState((state) => ({\n            currentLanguage: curLang,\n        }));\n    }\n\n    public compare(a: any, b: any) {\n        if (a.name < b.name) {\n          return -1;\n        }\n        if (a.name > b.name) {\n          return 1;\n        }\n        return 0;\n      }\n\n    public render() {\n        let language = null;\n        const sortable = this.props.languages.sort(this.compare);\n\n        language = (\n            <div>\n                {sortable.map((lang, index) => {\n                    index = lang.id;\n                    return <DropdownItem key={index} onClick={() => this.changeCurrentLanguageHandler(lang)}>{lang.name}</DropdownItem>;\n                })}\n            </div>\n        );\n\n        return (\n            <Dropdown isOpen={this.state.dropdownOpen} toggle={this.toggle}>\n                <DropdownToggle caret>\n                    {this.state.currentLanguage.name}\n                </DropdownToggle>\n                <DropdownMenu>\n                    {language}\n                </DropdownMenu>\n            </Dropdown>\n        );\n\n    }\n}\n","import React from \"react\";\nimport { Button, Form, FormGroup, Input, Label, Modal, ModalBody, ModalFooter, ModalHeader } from \"reactstrap\";\nimport PopupConfirmationDialog from \"../PopupConfirmationDialog/PopupConfirmationDialog\";\nimport apiManager from \"./apiManagerLanguage\";\nimport DropdownLanguage from \"./DropdownLanguage\";\nimport \"./LanguageSelectionPopup.css\";\ninterface ILanguageState {\n    modal: boolean;\n    radioState: string;\n    currentLang: {\n        id: number,\n        name: string,\n    };\n    languages: Array<{\n        id: number,\n        name: string,\n    }>;\n}\n\ninterface ILanguageProps {\n    buttonLabel: string;\n}\n\nexport default class LanguageSelectionPopup extends React.Component<ILanguageProps, ILanguageState> {\n    public apiManager = new apiManager();\n    public child = React.createRef<PopupConfirmationDialog>();\n\n    constructor(props: any) {\n        super(props);\n        this.state = {\n            currentLang: { id: -1, name: \"\" },\n            languages: [],\n            modal: false,\n            radioState: \"\",\n        };\n        this.toggle = this.toggle.bind(this);\n    }\n\n    public getLang = async () => {\n        const resp = await this.apiManager.getLang();\n        const data = await resp.json();\n        this.setState(\n            {\n                languages: data,\n            });\n    }\n\n    public onAddLang = async (lang: any) => {\n        const resp = await this.apiManager.createLang(JSON.stringify(lang));\n        this.getLang();\n    }\n\n    public onDelLang = async (lang: any) => {\n        const resp = await this.apiManager.removeLang(lang.id);\n        this.getLang();\n    }\n\n    public onUpdateLang = async (lang: any) => {\n        const resp = await this.apiManager.updateLang(lang.id, JSON.stringify(lang));\n        this.getLang();\n    }\n\n    public toggle() {\n        this.setState({\n            modal: !this.state.modal,\n            radioState: \"\",\n            currentLang: { id: -1, name: \"\" },\n        });\n    }\n\n    public radioHandler = (event: any) => {\n        const radioState = event.target.value;\n        this.setState({ radioState });\n    }\n\n    public updateCurrentLang = (value: any) => {\n        this.setState({ currentLang: value });\n    }\n\n    public nameUpdateHandler = () => {\n        if (this.state.currentLang.id !== -1) {\n            if (!this.state.languages.find((item) => item.name === this.state.currentLang.name)) {\n                this.onUpdateLang(this.state.currentLang);\n                this.setState({\n                    currentLang: { id: -1, name: \"\" },\n                });\n                this.toggle();\n            } else{\n                alert(`Мова з назвою \"${this.state.currentLang.name}\" вже існує`);\n            }\n        } else {\n            alert(\"Виберіть мову\");\n        }\n    }\n\n    public nameChangedHandler = (event: any) => {\n        this.setState({ currentLang: { id: this.state.currentLang.id, name: event.target.value } });\n    }\n\n    public languageDeleteHandler = () => {\n        if (this.state.currentLang.id !== -1) {\n            this.onDelLang(this.state.currentLang);\n            this.setState({\n                currentLang: { id: -1, name: \"\" },\n            });\n            this.toggle();\n        } else {\n            alert(\"Виберіть мову\");\n        }\n\n    }\n\n    public languageAddHandler = () => {\n        if (this.state.currentLang.name === \"\") {\n            alert(\"Введіть назву мови\");\n        } else if (this.state.languages.find((item) => item.name === this.state.currentLang.name)) {\n            alert(`Мова з назвою \"${this.state.currentLang.name}\" вже існує`);\n        } else {\n\n            const newLanguage = {\n                id: 0,\n                name: this.state.currentLang.name,\n            };\n            this.onAddLang(newLanguage);\n            this.toggle();\n        }\n    }\n\n    public toggleChildComponent = async (e: any) => {\n        if (this.state.currentLang.id !== -1) {\n            if (!this.child.current) {\n                return;\n            }\n            this.child.current.toggle();\n        } else {\n            alert(\"Виберіть мову\");\n        }\n    }\n\n    public componentDidMount() {\n        this.getLang();\n    }\n\n    public render() {\n\n        const currentLangName = this.state.currentLang.name;\n        let inputs = null;\n        if (this.state.radioState === \"add\") {\n            inputs = (\n                <div>\n                    <Form>\n                        <Label >Введіть назву мови щоб додати</Label>\n                        <Input\n                            className=\"inputLang\"\n                            placeholder=\"Назва мови\"\n                            onChange={this.nameChangedHandler} /><br />\n                        <Button\n                            color=\"primary\"\n                            onClick={() => this.languageAddHandler()} >Додати мову</Button>\n                    </Form>\n                </div>\n            );\n        } else if (this.state.radioState === \"update\") {\n            inputs = (\n                <div>\n                    <DropdownLanguage\n                        updateCurrentLang={this.updateCurrentLang}\n                        languages={this.state.languages}></DropdownLanguage> <br></br>\n                    <Form >\n                        <Label >Оберіть мову для редагування</Label>\n                        <Input\n                            className=\"inputLang\"\n                            onChange={this.nameChangedHandler}\n                            value={this.state.currentLang.name}\n                        /><br />\n                        <Button\n                            color=\"primary\"\n                            onClick={() => this.nameUpdateHandler()} >Редагувати</Button>\n                    </Form>\n                </div>\n            );\n        } else if (this.state.radioState === \"delete\") {\n            inputs = (\n                <div>\n                    <DropdownLanguage\n                        updateCurrentLang={this.updateCurrentLang}\n                        languages={this.state.languages}></DropdownLanguage> <br></br>\n                    <Form>\n                        <Button\n                            color=\"danger\"\n                            onClick={this.toggleChildComponent} >Видалити мову</Button><br />\n                        <PopupConfirmationDialog\n                            removeMethod={this.languageDeleteHandler.bind(this)}\n                            message=\"Видалення мови приведе до видалення усіх аудіозаписів звязаних з цією мовою. Ви дійсно хочете видалити виставу?\"\n                            labelDangerButton=\"Видалити\"\n                            labelPrimaryButton=\"Відмінити\"\n                            ref={this.child}\n                        />\n                    </Form>\n                </div>\n            );\n        }\n\n        return (\n\n            <div className=\"languageButton\">\n                <Button\n                    color=\"primary\"\n                    onClick={this.toggle}>{this.props.buttonLabel}</Button>\n                <Modal\n                    isOpen={this.state.modal}\n                    toggle={this.toggle}>\n                    <ModalHeader\n                        toggle={this.toggle}\n                        className=\"popupHeader\">Керування мовами дубляжу</ModalHeader>\n                    <ModalBody className=\"popupBody\">\n                        <div>\n                            <FormGroup tag=\"fieldset\">\n                                <FormGroup check>\n                                    <Label check>\n                                        <Input type=\"radio\" name=\"radioLang\" value=\"add\" onChange={this.radioHandler} />{\" \"}\n                                        Додати нову мову дубляжу</Label>\n                                </FormGroup>\n                                <FormGroup check>\n                                    <Label check>\n                                        <Input type=\"radio\" name=\"radioLang\" value=\"update\" onChange={this.radioHandler} />{\" \"}\n                                        Змінити назву мови дубляжу</Label>\n                                </FormGroup>\n                                <FormGroup check >\n                                    <Label check>\n                                        <Input type=\"radio\" name=\"radioLang\" value=\"delete\" onChange={this.radioHandler} />{\" \"}\n                                        Видалити мову дубляжу</Label>\n                                </FormGroup>\n                            </FormGroup>\n                        </div>\n                        {inputs}\n                    </ModalBody>\n                    <ModalFooter className=\"popupHeader\">\n                        <Button color=\"secondary\" onClick={this.toggle}>Закрити</Button>\n                    </ModalFooter>\n                </Modal>\n            </div >\n        );\n    }\n}\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Tooltip } from \"reactstrap\";\nimport PopupConfirmationDialog from \"../../PopupConfirmationDialog/PopupConfirmationDialog\";\nimport \"./Performance.css\";\n\ninterface IPerformanceProps {\n    deleteMethod: any;\n    index: number;\n    title: string;\n    description: string;\n}\n\ninterface IPerformanceState {\n    tooltipEditOpen: boolean;\n    tooltipRemoveOpen: boolean;\n}\nexport default class Performance extends Component<IPerformanceProps, IPerformanceState> {\n    public child = React.createRef<PopupConfirmationDialog>();\n    constructor(props: any) {\n        super(props);\n        this.tooltipEditToggle = this.tooltipEditToggle.bind(this);\n        this.tooltipRemoveToggle = this.tooltipRemoveToggle.bind(this);\n        this.state = {\n            tooltipEditOpen: false,\n            tooltipRemoveOpen: false,\n        };\n    }\n\n    public tooltipEditToggle() {\n        this.setState({\n            tooltipEditOpen: !this.state.tooltipEditOpen,\n        });\n    }\n    public tooltipRemoveToggle() {\n        this.setState({\n            tooltipRemoveOpen: !this.state.tooltipRemoveOpen,\n        });\n    }\n\n    public remove() {\n        this.props.deleteMethod(this.props.index);\n    }\n\n    public toggleChildComponent = async (e: any) => {\n        if (!this.child.current) {\n            return;\n        }\n        this.child.current.toggle();\n    }\n    public render() {\n        return (\n            <div className=\"performance\">\n                <div className=\"row\">\n                    <p className=\"col-md-11 pull-left perfTitle\" >{this.props.title}</p>\n                    <div className=\"col-md-1 text-right PerformanceButtons \">\n                        <Link to={\"/performance/\" + this.props.index} >\n                            <button className=\"editBtn\" id={\"editBtn\" + this.props.index}/>\n                            <Tooltip placement=\"left\" isOpen={this.state.tooltipEditOpen} autohide={false} target={\"editBtn\" + this.props.index} toggle={this.tooltipEditToggle}>\n                                Редагувати виставу </Tooltip>\n                        </Link>\n                        <div>\n                            <span className=\"close\" onClick={this.toggleChildComponent} id={\"actionButton\" + this.props.index}>x</span>\n                            <Tooltip placement=\"left\" isOpen={this.state.tooltipRemoveOpen} autohide={true} target={\"actionButton\" + this.props.index} toggle={this.tooltipRemoveToggle}>\n                                Видалити виставу </Tooltip>\n                        </div>\n\n                        <PopupConfirmationDialog\n                            removeMethod={this.remove.bind(this)}\n                            message=\"Видалення вистави приведе до видалення всіх фраз і аудіофайлів. Ви дійсно хочете видалити виставу?\"\n                            labelDangerButton=\"Видалити\"\n                            labelPrimaryButton=\"Відмінити\"\n                            ref={this.child}\n                        />\n                    </div>\n                </div>\n\n            <p className=\"perfDescr\">\n                {this.props.description}\n            </p>\n            <Link to={\"/stream/\" + this.props.index} className=\"gotoPerfLink\">\n                <button className=\"gotoPerfBtn \">Перейти до вистави <div className=\"gotoImage\" /></button>\n            </Link>\n        </div>\n        );\n    }\n}\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { Dispatch } from \"redux\";\nimport { Button } from \"reactstrap\";\n\nimport Aux from \"../../../hoc/Auxiliary\";\nimport * as actionCreators from \"../../../store/actions/index\";\nimport apiManager from \"../../../util/apiManager\";\nimport API from \"../../../util/api\";\nimport LanguageSelectionPopup from \"../../LanguageSelectionPopup/LanguageSelectionPopup\";\nimport Spinner from \"../../UI/Spinner/Spinner\";\nimport Performance from \"../Performance/Performance\";\n\nimport \"./PerformanceList.css\";\n\ninterface IPerformanceState {\n    performances: Array<{\n        id: number,\n        title: string,\n        description: string,\n    }>;\n    isLoading: boolean;\n}\n\ninterface IPerformanceProps {\n    performances: [];\n    onChangeCurrentTabId: Function;\n}\n\nclass PerformanceList extends Component<IPerformanceProps, IPerformanceState> {\n    public apimanager = new apiManager();\n\n    constructor(props: any) {\n        super(props);\n        this.state = {\n            performances: [],\n            isLoading: true,\n        };\n        this.removePerformance = this.removePerformance.bind(this);\n    }\n\n    public getPerformances = async () => {\n        const resp = await this.apimanager.getPerformances();\n        if (resp.status === 200) {\n            const data = await resp.json();\n            this.setState({\n                performances: data,\n            });\n        } else if (resp.status === 500) {\n            alert(\"Виникла помилка на сервері.\");\n        } else {\n            alert(\"Не вдалось підключитись до серверу. Перевірте з'єднання з сервером.\");\n        }\n    }\n\n    public async removePerformance(index: number) {\n        const resp = await this.apimanager.removePerformance(index);\n        if (resp.status === 204) {\n            const arr = this.state.performances.filter((obj) => {\n                return obj.id !== index;\n            });\n\n            this.setState({\n                performances: arr,\n            });\n        } else {\n            this.getPerformances();\n        }\n    }\n\n    public handleUploadClick(event: any) {\n        const ch: any = document.getElementById(\"waitingUploadInput\");\n        ch.click();\n    }\n\n    private onChange = async (event: any) => {\n        const audio = event.target.files[0];\n\n        const formData = new FormData();\n        formData.append(\"File\", audio);\n        \n        if(audio.name.slice(-4) !== \".mp3\"){\n            return alert(\"Ви намагаєтесь завантажити не аудіо файл\");            \n        }        \n\n        await API.post(\"audio/upload/waiting\", formData, {\n            headers: { \"Content-Type\": \"multipart/form-data\" },\n        });\n\n        alert(\"Аудіо файл, що грає під час очікування трансляції, завантажено\");\n    }\n    \n\n    public render() {\n        return (\n            <Aux>\n                <Spinner isShow={this.state.isLoading} />\n                <div className=\"perfomanceList\">\n                    <div className=\"header\">\n                        <p>Вистави</p>\n                        <Link to=\"/performance/new\" >\n                            <button className=\"addButton\"><div className=\"addImage\" />Додати виставу</button>\n                        </Link>\n                    </div>\n                    {/* popup for language management. Created by reactstrap. Props here https://reactstrap.github.io/components/modals/ */}\n                    <LanguageSelectionPopup\n                        buttonLabel=\"Керувати мовами дубляжу\" />\n                         \n                         <input\n                            className=\"choose-audio-btn\"\n                            id = \"waitingUploadInput\"\n                            type=\"file\"\n                            accept=\"audio/*\"\n                            onChange={this.onChange}\n                        />\n                        <Button onClick={this.handleUploadClick} id=\"waitingUpload\" color=\"primary\" className='languageButton'/*  onClick={this.toggle} */>Завантажити аудіо для очікування трансляції</Button>\n                        \n                        {\n                        this.state.performances.map((item) => {\n                            return <Performance deleteMethod={this.removePerformance} index={item.id} key={item.id} title={item.title} description={item.description} />;\n                        },\n                        )}\n                </div>\n            </Aux>\n        );\n    }\n\n    public async componentDidMount() {\n        await this.getPerformances();\n        this.setState({\n            isLoading: false,\n        });\n\n        this.props.onChangeCurrentTabId(0);\n    }\n\n    public componentWillUnmount() {\n        console.log(\"[Performance List]: Component will unmount\");\n    }\n}\n\nconst mapDispatchToProps = (dispatch: Dispatch) => {\n    return {\n        onChangeCurrentTabId: (nextId: number) => dispatch(actionCreators.changeCurrentTabId(nextId)),\n    };\n};\n\nexport default connect(null, mapDispatchToProps)(PerformanceList);\n","import React, { Component } from \"react\";\nimport { Redirect, Route, Switch } from \"react-router-dom\";\nimport EditPerformance from \"./EditPerformance/EditPerformance\";\nimport PerformanceList from \"./PerformanceList/PerformanceList\";\n\nclass PerformancesPage extends Component {\n\n  public render() {\n    return (\n      <Switch>\n        <Route exact path=\"/\" render={() => (\n          <Redirect to=\"/performance\" />\n        )} />\n        <Route exact path=\"/performance\" component={PerformanceList} />\n        <Route path=\"/performance/:number\" component={EditPerformance} />\n      </Switch>\n    );\n  }\n}\n\nexport default PerformancesPage;\n","import React, { Component } from \"react\";\n\nconst withClass = (WrappedComponent: any, classes: string) => {\n    return class extends Component<any, any> {\n        public render() {\n            return (\n                <div className={classes}>\n                    <WrappedComponent {...this.props} />\n                </div>\n            );\n        }\n    };\n};\n\nexport default withClass;\n","import React from \"react\";\nimport Aux from \"../../../../hoc/Auxiliary\";\nimport WithClass from \"../../../../hoc/WithClass\";\nimport classes from \"./StreamAudio.module.css\";\n\ninterface IAudioProps {\n    text: string;\n    duration: number;\n    isPlaying: boolean;\n    playByIdHandler: any;\n    currentAudioId: number;\n    connectingStatus: boolean;\n}\n\nconst audio = (props: IAudioProps) => {\n\n    const getViewNumber = (num: number): string => {\n        if (num < 10) {\n            return `0${num}`;\n        } else {\n            return num.toString();\n        }\n    };\n\n    const convSecondsToMinutes = (second: number): string => {\n        const minutes: number = Math.floor(second / 60);\n        const seconds: number = second % 60;\n\n        return `${getViewNumber(minutes)}:${getViewNumber(seconds)}`;\n    };\n\n    const iconActionsClasses = [\"fas\", classes.icon, \"fa-play-circle\"];\n    if (props.isPlaying) {\n        iconActionsClasses.pop();\n        iconActionsClasses.push(\"fa-pause-circle\");\n    } else {\n        iconActionsClasses.pop();\n        iconActionsClasses.push(\"fa-play-circle\");\n    }\n\n    if (!props.connectingStatus) {\n        iconActionsClasses.push(classes.disable);\n    }\n\n    function playHandler() {\n        props.playByIdHandler(props.currentAudioId);\n    }\n\n    return (\n        <Aux>\n            <i className={iconActionsClasses.join(\" \")} onClick={playHandler}></i>\n            <span>\n                {props.text}\n            </span>\n            <span className={classes.time}>{convSecondsToMinutes(props.duration)}</span>\n        </Aux>\n    );\n};\n\nexport default WithClass(audio, classes.audio);\n","import React from \"react\";\n\nimport withClass from \"../../../hoc/WithClass\";\nimport StreamAudio from \"./StreamAudio/StreamAudio\";\n\nimport classes from \"./StreamAudios.module.css\";\n\ninterface IStreamAudioProps {\n    audios: any;\n    currentAudioId: number;\n    playByIdHandler: any;\n    isPlaying: boolean;\n    connectingStatus: boolean;\n}\n\nconst streamAudios = (props: IStreamAudioProps) => {\n    const audios = props.audios.map((audio: any, index: number) => {\n        return <StreamAudio\n                    key={index}\n                    text={audio.text}\n                    duration={audio.duration}\n                    currentAudioId={audio.id}\n                    isPlaying={props.currentAudioId === audio.id && props.isPlaying ? true : false}\n                    playByIdHandler={props.playByIdHandler}\n                    connectingStatus={props.connectingStatus} />;\n    });\n\n    return (\n        audios\n    );\n};\n\nexport default withClass(streamAudios, classes.audios);\n","import Radium from \"radium\";\nimport React from \"react\";\n\ninterface IButtonProps {\n    width: string;\n    height: string;\n    backgroundColor: string;\n    borderRadius: string;\n    fontSize: string;\n    transitionDuration: string;\n    className: string;\n    text: string;\n    hover?: object;\n    clicked?: any;\n}\n\nclass Button extends React.Component<IButtonProps> {\n\n    public render() {\n        const style = {\n            \":hover\": {\n                ...this.props.hover,\n            },\n            \"backgroundColor\": this.props.backgroundColor,\n            \"borderRadius\": this.props.borderRadius,\n            \"fontSize\": this.props.fontSize,\n            \"height\": this.props.height,\n            \"transition\": \"all \" + this.props.transitionDuration,\n            \"width\": this.props.width,\n        };\n\n        return (\n            <button style={style} className={this.props.className} onClick={this.props.clicked}>\n                {this.props.children}\n                <span>{this.props.text}</span>\n            </button>\n        );\n    }\n}\n\nexport default Radium(Button);\n","import React from \"react\";\n\nimport Aux from \"../../../hoc/Auxiliary\";\nimport WithClass from \"../../../hoc/WithClass\";\nimport Button from \"../../UI/Button/Button\";\n\nimport classes from \"./StreamHead.module.css\";\n\ninterface IStreamHeadProps {\n    name: string;\n    connectingStatus: boolean;\n    clicked: Function;\n}\n\nconst streamHead = (props: IStreamHeadProps) => {\n    const btnStyles = {\n        backgroundColor: \"#0057c6\",\n        borderRadius: \"25px\",\n        className: classes.btn,\n        fontSize: \"18px\",\n        height: \"45px\",\n        hover: {\n            backgroundColor: \"#083d81\",\n            cursor: \"pointer\",\n        },\n        text: \"Приєднатись до сервера\",\n        transitionDuration: \"0.3s\",\n        width: \"auto\"\n    };\n    let icon = <i className=\"fas fa-play-circle\"></i>;\n\n    if (props.connectingStatus) {\n        btnStyles.backgroundColor = \"#da4453\";\n        btnStyles.text = \"Відключитись від сервера!\";\n        btnStyles.hover.backgroundColor = \"#cf1225\";\n        icon = <i className=\"fas fa-stop-circle\"></i>;\n    }\n\n    return (\n        <Aux>\n            <span className={classes.title}>{props.name}</span>\n                <Button {...btnStyles} clicked={props.clicked}>\n                    {icon}\n                </Button>\n        </Aux>\n    );\n};\n\nexport default WithClass(streamHead, classes.streamHead);\n","class PlaybackManager {\n    public currentTime: number;\n    private maxDuration: number;\n    private isPause: boolean;\n    private timerId: any;\n\n    constructor() {\n        this.currentTime = 0;\n        this.maxDuration = 0;\n        this.isPause = true;\n        this.timerId = 0;\n    }\n\n    public play = (changeCurrentPlaybackTime: any, pause: any, totalDuration: number) => {\n            if (!this.timerId) {\n                this.isPause = false;\n                this.maxDuration = totalDuration;\n                this.timerId = setInterval(() => {\n                    if (!this.isPause && this.currentTime < this.maxDuration) {\n                        this.currentTime++;\n                        changeCurrentPlaybackTime(this.currentTime);\n                    } else if (this.currentTime >= this.maxDuration) {\n                        pause();\n                    }\n                }, 1000);\n            }\n    }\n\n    public pause = () => {\n        if (this.timerId) {\n            this.isPause = true;\n        }\n    }\n\n    public continue = () => {\n        if (this.timerId) {\n            this.isPause = false;\n        }\n    }\n\n    public reset = (onChangeCurrentPlaybackTime: any) => {\n        if (this.timerId) {\n            this.isPause = true;\n            this.currentTime = 0;\n            onChangeCurrentPlaybackTime(this.currentTime);\n\n            clearInterval(this.timerId);\n            this.timerId = 0;\n        }\n    }\n}\n\nexport const playbackManager = new PlaybackManager();\n","import React, { Component } from \"react\";\nimport KeyBinding from \"react-keybinding-component\";\nimport { connect } from \"react-redux\";\n\nimport Aux from \"../../hoc/Auxiliary\";\nimport WithClass from \"../../hoc/WithClass\";\nimport Spinner from \"../UI/Spinner/Spinner\";\nimport StreamAudios from \"./StreamAudios/StreamAudios\";\nimport StreamHead from \"./StreamHead/StreamHead\";\n\nimport * as actionCreators from \"../../store/actions/index\";\nimport StateType from \"../../store/state/state\";\n\nimport { signalRManager } from \"../../index\";\nimport ApiManager from \"../../util/apiManager\";\nimport { KeyChars } from \"../../util/keyChars\";\nimport { playbackManager } from \"../../util/playbackManager\";\n\nimport classes from \"./Stream.module.css\";\n\ninterface IStreamState {\n    perfomanceId: number;\n    performanceName: string;\n    isFirst: boolean;\n    isWarning: boolean;\n    isLoading: boolean;\n}\n\ninterface IStreamProps {\n    match: {\n        params: {\n            number: number,\n        },\n    };\n    performanceId: number;\n    connectingStatus: boolean;\n    isPlaying: boolean;\n    currentSpeechId: number;\n    maxDuration: number;\n    speeches: Array<{\n        id: number,\n        text: string,\n        duration: number,\n    }>;\n    onSavePerformanceId: Function;\n    onSaveSpeeches: Function;\n    onSaveCurrentSpeechId: Function;\n    onChangeStreamingStatus: Function;\n    onChangeStreamStateToInitial: Function;\n    onChangeCurrentPlaybackTime: Function;\n    onChangeConnectingStatus: Function;\n    onChangeCurrentTabId: Function;\n}\n\ninterface IMapKeysBinding {\n    [KeyChars.Space]: boolean;\n    [key: string]: boolean;\n}\n\nclass Stream extends Component<IStreamProps, IStreamState> {\n    private apiManager: ApiManager = new ApiManager();\n    private map: IMapKeysBinding = {\n        [KeyChars.Space]: false,\n    };\n    private repeat: boolean = true;\n\n    constructor(props: any) {\n        super(props);\n        this.state = {\n            isFirst: true,\n            isWarning: false,\n            perfomanceId: this.props.match.params.number,\n            performanceName: \"\",\n            isLoading: true,\n        };\n    }\n\n    public changeConnectingStatus = async (event: Event) => {\n        event.preventDefault();\n\n        if (this.props.speeches !== undefined) {\n            if (!this.props.connectingStatus) {\n                await signalRManager.connectToHub()\n                    .then(async () => {\n                        await signalRManager.sendCommand(\"Start\")\n                            .then(() => this.props.onChangeConnectingStatus(true))\n                            .catch(() => alert(\"Виникла помилка на сервері!\"));\n                    })\n                    .catch(() => alert(\"Виникла помилка на сервері!\"));\n            } else {\n                if (this.props.isPlaying) {\n                    await this.pause();\n                }\n\n                await signalRManager.sendCommand(\"End\")\n                    .then(async () => {\n                        await signalRManager.disconnectFromHub()\n                            .then(() => {\n                                this.props.onChangeConnectingStatus(false);\n\n                                if (this.props.speeches !== undefined && this.props.speeches.length !== 0) {\n                                    this.props.onSaveCurrentSpeechId(this.props.speeches[0].id);\n                                }\n                            })\n                            .catch(() => alert(\"Виникла помилка на сервері. Спробуйте перевірити з'єднання!\"));\n                    })\n                    .catch(() => alert(\"Виникла помилка на сервері. Спробуйте перевірити з'єднання!\"));\n            }\n        } else {\n            alert(\"Здається ця вистава не містить фрагментів для програвання...\");\n        }\n    }\n\n    public playByIdHandler = async (id: number) => {\n        if (this.props.connectingStatus) {\n            if (this.state.isFirst || (this.props.isPlaying && id !== this.props.currentSpeechId)) {\n                await signalRManager.sendCommand(this.props.performanceId + \"_\" + id)\n                .then(() => {\n                    this.props.onSaveCurrentSpeechId(id);\n                    this.props.onChangeStreamingStatus(true);\n\n                    playbackManager.reset(this.props.onChangeCurrentPlaybackTime);\n                    playbackManager.play(\n                        this.props.onChangeCurrentPlaybackTime,\n                        this.pause.bind(this),\n                        this.props.maxDuration);\n\n                    if (this.state.isFirst) {\n                        this.setState({\n                            isFirst: false,\n                        });\n                    }\n                })\n                .catch(() => alert(\"Виникла помилка на сервері. Спробуйте перевірити з'єднання!\"));\n            } else if (!this.props.isPlaying) {\n                await signalRManager.sendCommand(this.props.performanceId + \"_\" + id)\n                .then(() => {\n                    this.props.onSaveCurrentSpeechId(id);\n                    this.props.onChangeStreamingStatus(true);\n\n                    playbackManager.play(\n                        this.props.onChangeCurrentPlaybackTime,\n                        this.pause.bind(this),\n                        this.props.maxDuration);\n                })\n                .catch(() => alert(\"Виникла помилка на сервері. Спробуйте перевірити з'єднання!\"));\n            } else {\n                await this.pause();\n            }\n        }\n    }\n\n    public pause = async (): Promise<void> => {\n        return await signalRManager.sendCommand(\"Pause\")\n                .then(() => {\n                    this.props.onChangeStreamingStatus(false);\n                    playbackManager.reset(this.props.onChangeCurrentPlaybackTime);\n                })\n                .catch(() => alert(\"Виникла помилка на сервері. Спробуйте перевірити з'єднання!\"));\n    }\n\n    public playPauseHandler = async (event: Event) => {\n        if (this.props.connectingStatus) {\n            event.preventDefault();\n\n            if (!this.props.isPlaying) {\n                await signalRManager.sendCommand(this.props.performanceId + \"_\" + this.props.currentSpeechId);\n                this.props.onChangeStreamingStatus(true);\n\n                playbackManager.play(\n                    this.props.onChangeCurrentPlaybackTime,\n                    this.pause.bind(this),\n                    this.props.maxDuration);\n            } else {\n                await this.pause();\n            }\n        }\n    }\n\n    public checkKeys = (...keys: string[]) => {\n        for (const key of keys) {\n            if (!this.map[key]) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    public onKeyDownUpHandler = async (event: KeyboardEvent) => {\n        this.map[event.key] = event.type === \"keydown\";\n\n        if (this.checkKeys(KeyChars.Space) && this.repeat) {\n            await this.playPauseHandler(event);\n            this.repeat = false;\n        } else if (event.type === \"keyup\") {\n            this.repeat = true;\n        }\n    }\n\n    public render() {\n        return (\n            <Aux>\n                <Spinner isShow={this.state.isLoading} />\n                <StreamHead\n                    name={this.state.performanceName}\n                    connectingStatus={this.props.connectingStatus}\n                    clicked={(event: Event) => this.changeConnectingStatus(event) } />\n                <StreamAudios\n                    audios={this.props.speeches !== undefined ? this.props.speeches : []}\n                    connectingStatus={this.props.connectingStatus}\n                    currentAudioId={this.props.currentSpeechId}\n                    playByIdHandler={this.playByIdHandler}\n                    isPlaying={this.props.isPlaying} />\n                <KeyBinding onKey={(event: KeyboardEvent) => this.onKeyDownUpHandler(event)} type=\"keydown\"/>\n                <KeyBinding onKey={(event: KeyboardEvent) => this.onKeyDownUpHandler(event)} type=\"keyup\"/>\n            </Aux>\n        );\n    }\n\n    public async componentDidMount() {\n        const response = await this.apiManager.getPerformanceById(this.state.perfomanceId);\n        if (response.status === 200) {\n            const performance = await response.json();\n            this.setState({\n                performanceName: performance.title,\n            });\n\n            this.props.onSavePerformanceId(this.state.perfomanceId);\n            const speechesResponse = await this.apiManager.getSpeechInfo(this.state.perfomanceId);\n            if (speechesResponse.status === 200) {\n                const speeches = await speechesResponse.json();\n                this.props.onSaveSpeeches(speeches);\n            } else {\n                this.handleError(speechesResponse);\n            }\n        } else {\n            this.handleError(response);\n        }\n\n        this.setState({\n            isLoading: false,\n        });\n\n        this.props.onChangeCurrentTabId(1);\n\n        window.onbeforeunload = (event) => {\n            return this.props.connectingStatus\n                    ? false\n                    : null;\n        };\n    }\n\n    public async componentWillUnmount() {\n        if (this.props.connectingStatus) {\n            if (this.props.isPlaying) {\n                await this.pause();\n            }\n\n            await signalRManager.sendCommand(\"End\")\n                                .catch((error) => console.log(error));\n            await signalRManager.disconnectFromHub()\n                                .catch((error) => console.log(error));\n        }\n\n        this.props.onChangeStreamStateToInitial();\n        window.onbeforeunload = null;\n    }\n\n    private handleError = (response: Response) => {\n        if (response.status === 500) {\n            alert(\"Виникла помилка на сервері.\");\n        } else {\n            alert(\"Не вдалось підключитись до серверу. Перевірте з'єднання з сервером!\");\n        }\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        onChangeConnectingStatus: (status: boolean) => dispatch(actionCreators.changeConnectingStatus(status)),\n        onChangeCurrentPlaybackTime: (time: number) => dispatch(actionCreators.changeCurrentPlaybackTime(time)),\n        onChangeStreamStateToInitial: () => dispatch(actionCreators.changeStreamStateToInitial()),\n        onChangeStreamingStatus: (status: boolean) => dispatch(actionCreators.changeStreamingStatus(status)),\n        onSaveSpeeches: (speeches: any) => dispatch(actionCreators.saveSpeeches(speeches)),\n        onSaveCurrentSpeechId: (id: number) => dispatch(actionCreators.saveCurrentSpeechId(id)),\n        onSavePerformanceId: (id: number) => dispatch(actionCreators.savePerformanceId(id)),\n        onChangeCurrentTabId: (nextId: number) => dispatch(actionCreators.changeCurrentTabId(nextId)),\n    };\n};\n\nconst mapStateToProps = (state: StateType) => {\n    return {\n        connectingStatus: state.stream.connectingStatus,\n        currentSpeechId: state.stream.currentSpeechId,\n        isPlaying: state.stream.isPlaying,\n        maxDuration: state.stream.maxDuration,\n        performanceId: state.stream.performanceId,\n        speeches: state.stream.speeches,\n    };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(WithClass(Stream, classes.stream));\n","import React from \"react\";\nimport \"./Logo.css\";\n\ninterface ILogoProps {\n    text: string;\n}\n\nclass Logo extends React.PureComponent<ILogoProps> {\n    public render() {\n        return (\n            <button className=\"header-logo\">\n                {this.props.text}\n            </button>\n        );\n    }\n}\n\nexport default Logo;\n","import React from \"react\";\nimport Button from \"../../../UI/Button/Button\";\nimport \"./Logout.css\";\n\nclass Logout extends React.PureComponent {\n    public render() {\n        return (\n            <div className=\"logout\">\n                {/* <span class=\"user-name\"> Ввійшов як {this.props.user.name} {this.props.user.surname}</span> */}\n                {/* <span className=\"user-name\">Ввійшов як Март Отто</span> */}\n                {/* <Button\n                    text=\"Вихід\"\n                    width=\"95px\"\n                    height=\"45px\"\n                    borderRadius=\"25px\"\n                    fontSize=\"18px\"\n                    transitionDuration=\"0.3s\"\n                    backgroundColor=\"#da4453\"\n                    className=\"user-action\"></Button> */}\n            </div>\n        );\n    }\n}\n\nexport default Logout;\n","import React from \"react\";\nimport \"./Header.css\";\nimport Logo from \"./Logo/Logo\";\nimport Logout from \"./Logout/Logout\";\n\ninterface IHeaderState {\n    isAuthorized: boolean;\n}\n\nclass Header extends React.Component<{}, IHeaderState> {\n\n    public static getDerivedStateFromProps(props: {}, state: IHeaderState) {\n        const segments = location.pathname.split(\"/\");\n        const newState = {\n            ...state,\n        };\n\n        if (segments[1] === \"login\") {\n            newState.isAuthorized = false;\n        } else {\n            newState.isAuthorized = true;\n        }\n\n        return newState;\n    }\n    constructor(props: {}) {\n        super(props);\n        this.state = {\n            isAuthorized: false,\n        };\n    }\n\n    public render() {\n        const logout = this.state.isAuthorized ? <Logout /> : null;\n\n        return (\n            <header id=\"header\">\n                <Logo text=\"Театр ляльок\" />\n                {logout}\n            </header>\n        );\n    }\n}\n\nexport default Header;\n","import React from \"react\";\nimport Aux from \"../../../../../hoc/Auxiliary\";\nimport WithClass from \"../../../../../hoc/WithClass\";\nimport classes from \"./ButtonSection.module.css\";\n\ninterface IButtonSectionProps {\n    isPlaying: boolean;\n    playPauseHandler: any;\n    nextSpeechHandler: any;\n    prevSpeechHandler: any;\n    connectingStatus: boolean;\n}\n\nconst buttonSection = (props: IButtonSectionProps) => {\n    const mainBtnClasses = [classes.act, classes.play];\n    const mainBtnIconClasses = [\"fas\", \"fa-play\"];\n\n    if (props.isPlaying === true) {\n        mainBtnClasses.pop();\n        mainBtnClasses.push(classes.pause);\n\n        mainBtnIconClasses.pop();\n        mainBtnIconClasses.push(\"fa-pause\");\n    }\n\n    const prev = [classes.prev];\n    const next = [classes.next];\n    if (!props.connectingStatus) {\n        mainBtnClasses.push(classes.disable);\n\n        prev.push(classes.prevNextDisable);\n        next.push(classes.prevNextDisable);\n    }\n\n    return (\n        <Aux>\n            <a href=\"\" className={prev.join(\" \")} onClick={(event) => props.prevSpeechHandler(event)}>\n                <i className=\"fas fa-fast-backward\"></i>\n            </a>\n\n            <a href=\"\" className={mainBtnClasses.join(\" \")} onClick={(event) => props.playPauseHandler(event)}>\n                <i className={mainBtnIconClasses.join(\" \")} ></i>\n            </a>\n\n            <a href=\"\" className={next.join(\" \")} onClick={(event) => props.nextSpeechHandler(event)}>\n                <i className=\"fas fa-fast-forward\"></i>\n            </a>\n        </Aux>\n    );\n};\n\nexport default WithClass(buttonSection, classes.btnSection);\n","import React from \"react\";\nimport Aux from \"../../../../../hoc/Auxiliary\";\nimport WithClass from \"../../../../../hoc/WithClass\";\nimport classes from \"./PlaySection.module.css\";\n\ninterface IPlaySectionProps {\n    numAudio: number;\n    totalTime: number;\n    currentTime: number;\n}\n\nconst playSection = (props: IPlaySectionProps) => {\n\n    const getViewNumber = (num: number): string => {\n        if (num < 10) {\n            return `0${num}`;\n        } else {\n            return num.toString();\n        }\n    };\n\n    const convSecondsToMinutes = (second: number): string => {\n        const minutes: number = Math.floor(second / 60);\n        const seconds: number = second % 60;\n\n        return `${getViewNumber(minutes)}:${getViewNumber(seconds)}`;\n    };\n\n    return (\n        <Aux>\n            <span className={classes.numAudio}>#{getViewNumber(props.numAudio)}</span>\n            <span className={classes.playbackTime}>\n                {convSecondsToMinutes(props.currentTime)} / {convSecondsToMinutes(props.totalTime)}\n            </span>\n            <input\n                type=\"range\"\n                className={classes.playbackScale}\n                value={props.currentTime}\n                max={props.totalTime}\n                onChange={undefined}/>\n        </Aux>\n    );\n};\n\nexport default WithClass(playSection, classes.playSection);\n","import React, { Component } from \"react\";\nimport KeyBinding from \"react-keybinding-component\";\nimport { connect } from \"react-redux\";\nimport { AnyAction, Dispatch } from \"redux\";\n\nimport Aux from \"../../../../hoc/Auxiliary\";\nimport WithClass from \"../../../../hoc/WithClass\";\nimport ButtonSection from \"./ButtonSection/ButtonSection\";\nimport PlaySection from \"./PlaySection/PlaySection\";\n\nimport { signalRManager } from \"../../../../index\";\nimport ApiManager from \"../../../../util/apiManager\";\nimport { KeyChars } from \"../../../../util/keyChars\";\nimport { playbackManager } from \"../../../../util/playbackManager\";\n\nimport * as actions from \"../../../../store/actions/index\";\nimport StateType from \"../../../../store/state/state\";\n\nimport classes from \"./ActionSection.module.css\";\n\ninterface IActionSectionProps {\n    performanceId: number;\n    isPlaying: boolean;\n    currentSpeechId: number;\n    currentSpeechIndex: number;\n    currentPlaybackTime: number;\n    maxDuration: number;\n    connectingStatus: boolean;\n    speeches: Array<{\n        id: number,\n        text: string,\n        duration: number,\n    }>;\n    // tslint:disable\n    onChangeStreamingStatus: Function;\n    onChangeCurrentSpeechId: Function;\n    onChangeCurrentPlaybackTime: Function;\n    // tslint:enable\n}\n\ninterface IActionSectionState {\n    performanceId: number;\n    currentTime: number;\n}\n\ninterface IMapKeyBindings {\n    [KeyChars.Ctrl]: boolean;\n    [KeyChars.ArrowRight]: boolean;\n    [KeyChars.ArrowLeft]: boolean;\n    [key: string]: boolean;\n}\n\nclass ActionSection extends Component<IActionSectionProps, IActionSectionState> {\n    private apiManager = new ApiManager();\n    private map: IMapKeyBindings = {\n        [KeyChars.Ctrl]: false,\n        [KeyChars.ArrowRight]: false,\n        [KeyChars.ArrowLeft]: false,\n    };\n    private repeat: boolean = true;\n    private timerId: any = 0;\n\n    constructor(props: any) {\n        super(props);\n\n        this.state = {\n            currentTime: 0,\n            performanceId: this.props.performanceId,\n        };\n    }\n\n    public playPauseHandler = async (event: Event) => {\n        event.preventDefault();\n\n        if (this.props.connectingStatus) {\n            if (!this.props.isPlaying) {\n                await signalRManager.sendCommand(this.props.performanceId + \"_\" + this.props.currentSpeechId);\n                this.props.onChangeStreamingStatus(true);\n\n                playbackManager.play(\n                    this.props.onChangeCurrentPlaybackTime,\n                    this.pause.bind(this),\n                    this.props.maxDuration);\n            } else if (this.props.isPlaying) {\n                await this.pause();\n            }\n        }\n    }\n\n    public pause = async () => {\n        return await signalRManager.sendCommand(\"Pause\")\n                    .then(() => {\n                        this.props.onChangeStreamingStatus(false);\n                        playbackManager.reset(this.props.onChangeCurrentPlaybackTime);\n                    })\n                    .catch((error) => console.log(error));\n    }\n\n    public nextSpeechHandler = async (event: Event) => {\n        event.preventDefault();\n\n        if (this.props.connectingStatus) {\n            if (this.props.currentSpeechIndex !== this.props.speeches.length - 1) {\n                const nextSpeechId = this.props.speeches[this.props.currentSpeechIndex + 1].id;\n                this.props.onChangeCurrentSpeechId(nextSpeechId);\n                playbackManager.reset(this.props.onChangeCurrentPlaybackTime);\n\n                if (this.props.isPlaying) {\n                    await signalRManager.sendCommand(this.props.performanceId + \"_\" + nextSpeechId);\n                    playbackManager.play(\n                        this.props.onChangeCurrentPlaybackTime,\n                        this.pause.bind(this),\n                        this.props.maxDuration);\n                }\n            }\n        }\n    }\n\n    public prevSpeechHandler = async (event: Event) => {\n        event.preventDefault();\n\n        if (this.props.connectingStatus) {\n            if (this.props.currentSpeechIndex !== 0) {\n                const prevSpeechId = this.props.speeches[this.props.currentSpeechIndex - 1].id;\n                this.props.onChangeCurrentSpeechId(prevSpeechId);\n                playbackManager.reset(this.props.onChangeCurrentPlaybackTime);\n\n                if (this.props.isPlaying) {\n                    await signalRManager.sendCommand(this.props.performanceId + \"_\" + prevSpeechId);\n                    playbackManager.play(\n                        this.props.onChangeCurrentPlaybackTime,\n                        this.pause.bind(this),\n                        this.props.maxDuration);\n                }\n            }\n        }\n    }\n\n    public checkKeys = (...keys: string[]) => {\n        for (const key of keys) {\n            if (!this.map[key]) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    public onKeyDownUpHandler = async (event: KeyboardEvent) => {\n        this.map[event.key] = event.type === \"keydown\";\n\n        if (this.checkKeys(KeyChars.Ctrl, KeyChars.ArrowRight) && this.repeat) {\n            this.repeat = false;\n            await this.nextSpeechHandler(event);\n        } else if (this.checkKeys(KeyChars.Ctrl, KeyChars.ArrowLeft) && this.repeat) {\n            this.repeat = false;\n            await this.prevSpeechHandler(event);\n        } else if (event.type === \"keyup\") {\n            this.repeat = true;\n        }\n    }\n\n    public render() {\n        return (\n            <Aux>\n                <ButtonSection\n                    playPauseHandler={this.playPauseHandler}\n                    nextSpeechHandler={this.nextSpeechHandler}\n                    prevSpeechHandler={this.prevSpeechHandler}\n                    connectingStatus={this.props.connectingStatus}\n                    isPlaying={this.props.isPlaying}\n                />\n                <PlaySection\n                    numAudio={this.props.currentSpeechIndex + 1}\n                    totalTime={this.props.maxDuration}\n                    currentTime={this.props.currentPlaybackTime} />\n                <KeyBinding onKey={(event: KeyboardEvent) => this.onKeyDownUpHandler(event) } type=\"keydown\"/>\n                <KeyBinding onKey={(event: KeyboardEvent) => this.onKeyDownUpHandler(event) } type=\"keyup\"/>\n            </Aux>\n        );\n    }\n}\n\nconst mapStateToProps = (state: StateType) => {\n    return {\n        connectingStatus: state.stream.connectingStatus,\n        currentPlaybackTime: state.stream.currentPlaybackTime,\n        currentSpeechId: state.stream.currentSpeechId,\n        currentSpeechIndex: state.stream.currentSpeechIndex,\n        isPlaying: state.stream.isPlaying,\n        maxDuration: state.stream.maxDuration,\n        speeches: state.stream.speeches,\n    };\n};\n\nconst mapDispatchToProps = (dispatch: Dispatch<AnyAction>) => {\n    return {\n        onChangeCurrentPlaybackTime: (time: number) => dispatch(actions.changeCurrentPlaybackTime(time)),\n        onChangeCurrentSpeechId: (id: number) => dispatch(actions.saveCurrentSpeechId(id)),\n        onChangeStreamingStatus: (status: boolean) => dispatch(actions.changeStreamingStatus(status)),\n    };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(WithClass(ActionSection, classes.actionSection));\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\n\nimport classes from \"./SidebarItem.module.css\";\n\ninterface ISidebarItemProps {\n    id: number;\n    imgSrc: string;\n    name: string;\n    clicked: any;\n    path: string;\n}\n\nclass SidebarItem extends React.Component<ISidebarItemProps> {\n    constructor(props: ISidebarItemProps) {\n        super(props);\n    }\n\n    public render() {\n        return (\n            <NavLink\n                to={this.props.path}\n                className={classes.NavItem}\n                activeClassName={classes.NavItemActive}\n                onClick={this.props.clicked}>\n                    <img src={this.props.imgSrc} alt=\"\"/>\n                    <span>{this.props.name}</span>\n            </NavLink>\n        );\n    }\n}\n\nexport default SidebarItem;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { Dispatch } from \"redux\";\nimport * as actionCreators from \"../../../store/actions/index\";\n\nimport GlobalStoreType from \"../../../store/state/state\";\nimport API from \"../../../util/api\";\nimport ActionSection from \"./ActionSection/ActionSection\";\nimport SidebarItem from \"./SidebarItem/SidebarItem\";\n\nimport eventLogo from \"../../../assets/images/event-logo.png\";\nimport perfomanceLogo from \"../../../assets/images/perfomance-logo.png\";\nimport streamLogo from \"../../../assets/images/stream-logo.png\";\n\nimport \"./Sidebar.css\";\n\ninterface ISidebarState {\n    performanceId: number;\n    isVisible: boolean;\n}\n\ninterface ISidebarProps {\n    isStreamConnectedToServer: boolean;\n    currentTabId: number;\n    isNewFilesLoaded: boolean;\n    newFilesName: string[];\n    onChangeCurrentTabId: Function;\n    onChangeAudioUploadToInitial: Function;\n}\n\nfunction CountBlock() {\n    return (\n        <div className=\"countBlock\">\n            <p>Підключено користувачів: <span id='userCounter'>0</span></p>\n        </div>\n    );\n}\n\nclass Sidebar extends React.Component<ISidebarProps, ISidebarState> {\n    public static getDerivedStateFromProps(props: {}, state: ISidebarState) {\n        const updatedState = {\n            ...state,\n        };\n        const segments = location.pathname.split(\"/\");\n\n        if (segments[1] === \"login\") {\n            updatedState.isVisible = false;\n        } else if (segments[1] === \"stream\") {\n            updatedState.performanceId = parseInt(segments[2], undefined);\n        }\n\n        if (segments[1] !== \"stream\" && updatedState.performanceId !== -1) {\n            updatedState.performanceId = -1;\n        }\n\n        return updatedState;\n    }\n\n    constructor(props: any) {\n        super(props);\n        this.state = {\n            isVisible: true,\n            performanceId: -1,\n        };\n    }\n\n    public OnPerformanceClickHandler = async (event: Event, targetTabId: number) => {\n        if (targetTabId === 1 && this.props.isStreamConnectedToServer) {\n            const isConfirmed = confirm(\"Сторінка все ще підключена до серверу. Ви справді хочете перейти на іншу сторінку\");\n            if (!isConfirmed) {\n                event.preventDefault();\n            }\n        } else if (targetTabId === 0 && this.props.isNewFilesLoaded) {\n            const isConfirmed = confirm(\"Файли завантажені на сервер, але все ще не збережені. \" +\n                                        \"Ви справді перейти на іншу сторінку та видалити файли?\");\n            if (!isConfirmed) {\n                event.preventDefault();\n            } else {\n                if (this.props.newFilesName.length > 0) {\n                    let query = \"?\";\n                    for (const audio of this.props.newFilesName) {\n                      query += `files=${audio}&`;\n                    }\n                    query.slice(query.length - 1, 1);\n\n                    await API.delete(\"/audio/unload/\" + query);\n                  }\n                this.props.onChangeAudioUploadToInitial();\n            }\n        }\n    }\n\n    public onStreamClickHandler = (event: Event) => {\n        event.preventDefault();\n    }\n\n    public render() {\n        let actionSection = null;\n        let counter = null;\n        if (this.state.performanceId !== -1) {\n            actionSection = <ActionSection performanceId={this.state.performanceId} />;  \n            counter = <CountBlock/>\n        }\n\n        return (\n            this.state.isVisible ?\n                <div className=\"sidebar\">\n                    <nav className=\"nav\">\n                        <SidebarItem\n                            id={0}\n                            name=\"Вистави\"\n                            imgSrc={perfomanceLogo}\n                            path=\"/performance\"\n                            clicked={(event: Event) => this.OnPerformanceClickHandler(event, this.props.currentTabId)} />\n                        <SidebarItem\n                            id={1}\n                            name=\"Трансляції\"\n                            imgSrc={streamLogo}\n                            path=\"/stream\"\n                            clicked={(event: Event) => this.onStreamClickHandler(event)} />\n                    </nav>\n                    { actionSection }\n                    { counter }\n                </div> : null\n        );\n    }\n}\n\nconst mapStateToProps = (store: GlobalStoreType) => {\n    return {\n        isStreamConnectedToServer: store.stream.connectingStatus,\n        currentTabId: store.sidebar.currentTabId,\n        isNewFilesLoaded: store.audioUpload.isNewFilesLoaded,\n        newFilesName: store.audioUpload.newFilesName,\n    };\n};\n\nconst mapDispatchToProps = (dispatch: Dispatch) => {\n    return {\n        onChangeCurrentTabId: (nextId: number) => dispatch(actionCreators.changeCurrentTabId(nextId)),\n        onChangeAudioUploadToInitial: () => dispatch(actionCreators.changeAudioUploadToInitialState()),\n    };\n};\n\n// @ts-ignore\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Sidebar));\n","import React, { Component } from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\n\nimport Login from \"./components/Login/Login\";\nimport PerformancesPage from \"./components/Performances/PerformancesPage\";\nimport Stream from \"./components/Stream/Stream\";\nimport Header from \"./components/Toolbar/Header/Header\";\nimport Sidebar from \"./components/Toolbar/Sidebar/Sidebar\";\nimport Aux from \"./hoc/Auxiliary\";\n\nclass App extends Component {\n  public render(): JSX.Element {\n      return (\n        <Aux>\n          <Header />\n          <main>\n            <Sidebar />\n            <Switch>\n              <Route path=\"/login\" component={Login} />\n              <Route exact path=\"/\" component={PerformancesPage} />\n              <Route path=\"/performance\" component={PerformancesPage} />\n              <Route exact path=\"/stream/:number\" component={Stream} />\n            </Switch>\n          </main>\n        </Aux>\n      );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n);\n\ninterface IConfig {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n}\n\nexport function register(config?: IConfig) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href,\n    );\n    if (publicUrl.origin !== window.location.origin) {\n\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit http://bit.ly/CRA-PWA\",\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: IConfig) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See http://bit.ly/CRA-PWA.\",\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: IConfig) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\",\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","import * as actionTypes from \"../actions/actionTypes\";\n\ninterface IStateType {\n    isNewFilesLoaded: boolean;\n    newFilesName: string[];\n}\n\ninterface IActionType {\n    type: string;\n    payload: any;\n}\n\nconst initialState: IStateType = {\n    isNewFilesLoaded: false,\n    newFilesName: [],\n};\n\nconst audioUploadReducer = (state: IStateType = initialState, action: IActionType) => {\n    const updatedState = {\n        ...state,\n    };\n\n    switch (action.type) {\n        case actionTypes.CHANGE_IS_NEW_FILES_LOADED:\n            updatedState.isNewFilesLoaded = action.payload.nextValue;\n            break;\n        case actionTypes.ADD_NEW_FILES_NAME:\n            updatedState.newFilesName.push(action.payload.filename);\n            break;\n        case actionTypes.DELETE_NEW_FILES_NAME:\n            const updatedNewFiles = updatedState.newFilesName.filter((file) => !action.payload.filenames.includes(file));\n            updatedState.newFilesName = updatedNewFiles;\n            updatedState.isNewFilesLoaded = updatedNewFiles.length > 0 ? true : false;\n            break;\n        case actionTypes.CHANGE_AUDIO_UPLOAD_TO_INITIAL_STATE:\n            updatedState.isNewFilesLoaded = false;\n            updatedState.newFilesName = [];\n            break;\n    }\n\n    return updatedState;\n};\n\nexport default audioUploadReducer;\n","import * as actionTypes from \"../actions/actionTypes\";\n\ninterface ISidebarStateType {\n    currentTabId: number;\n}\n\ninterface IActionType {\n    type: string;\n    payload: any;\n}\n\nconst initialState: ISidebarStateType = {\n    currentTabId: 0,\n};\n\nconst sidebar = (state: ISidebarStateType = initialState, action: IActionType) => {\n    const updatedState = {\n        ...state,\n    };\n\n    switch (action.type) {\n        case actionTypes.CHANGE_CURRENT_TAB_ID:\n            updatedState.currentTabId = action.payload.nextId;\n            break;\n    }\n\n    return updatedState;\n};\n\nexport default sidebar;\n","import * as actionTypes from \"../actions/actionTypes\";\n\ninterface IActionType {\n    type: string;\n    payload: any;\n}\n\ninterface IStateType {\n    performanceId: number;\n    speeches?: Array<{\n        id: number,\n        text: string,\n        duration: number,\n        order: number,\n    }>;\n    connectingStatus: boolean;\n    isPlaying: boolean;\n    currentSpeechId: number;\n    currentSpeechIndex: number;\n    currentPlaybackTime: number;\n    maxDuration: number;\n}\n\nconst initialState = {\n    connectingStatus: false,\n    currentPlaybackTime: 0,\n    currentSpeechId: -1,\n    currentSpeechIndex: -1,\n    isPlaying: false,\n    maxDuration: 0,\n    performanceId: -1,\n    speeches: undefined,\n};\n\nconst reducer = (state: IStateType = initialState, action: IActionType) => {\n    let updatedState = {\n        ...state,\n    };\n\n    switch (action.type) {\n        case actionTypes.SAVE_PERFORMANCE_ID:\n            updatedState.performanceId = action.payload.id;\n            break;\n        case actionTypes.LOAD_SPEECHES:\n            if (action.payload.speeches.length !== 0) {\n                updatedState.speeches = action.payload.speeches.sort((s1: any, s2: any) => s1.order > s2.order ? 1 : -1);\n                updatedState.currentSpeechId = action.payload.speeches[0].id;\n\n                updatedState.currentSpeechIndex = 0;\n                updatedState.maxDuration = action.payload.speeches[0].duration;\n            }\n            break;\n        case actionTypes.SAVE_CURRENT_SPEECH_ID:\n            updatedState.currentSpeechId = action.payload.currentSpeechId;\n            updatedState.currentSpeechIndex = state.speeches !== undefined ?\n                state.speeches.findIndex((speech) => speech.id === action.payload.currentSpeechId) : -1;\n\n            const currentSpeech = state.speeches !== undefined ?\n                state.speeches.find((s) => s.id === action.payload.currentSpeechId) : undefined;\n            updatedState.maxDuration = currentSpeech !== undefined ? currentSpeech.duration : 0;\n            break;\n        case actionTypes.CHANGE_STREAMING_STATUS:\n            updatedState.isPlaying = action.payload.isPlaying;\n            break;\n        case actionTypes.CHANGE_CURRENT_PLAYBACK_TIME:\n            updatedState.currentPlaybackTime = action.payload.currentPlaybackTime;\n            break;\n        case actionTypes.CHANGE_STREAM_STATE_TO_INITIAL:\n            updatedState = initialState;\n            break;\n        case actionTypes.CHANGE_CONNECTING_STATUS:\n            updatedState.connectingStatus = action.payload.status;\n            break;\n        default:\n            break;\n    }\n\n    return updatedState;\n};\n\nexport default reducer;\n","interface IConfigType {\n    urlApi: string;\n}\n\nconst config: IConfigType = {\n    urlApi: \"https://3.121.195.219/\",\n};\n\nexport default config;\n","import * as signalR from \"@aspnet/signalr\";\nimport config from \"react-global-configuration\";\n\nclass SignalrManager {\n    public connection: signalR.HubConnection;\n\n    constructor() {\n        const backendURL = config.get(\"urlApi\");\n\n        this.connection = new signalR.HubConnectionBuilder()\n            .withUrl(`${backendURL}StreamHub`)\n            .build();\n\n        this.connection.on(\"updateCount\", (number: string) => {\n            const counterBlock: any = document.getElementById(\"userCounter\");\n\n            counterBlock.innerHTML = number;\n        });\n    }\n\n    public async connectToHub(): Promise<void> {\n        console.log(\"Try to connect to SignalR Hub\");\n\n        return await this.connection.start();\n    }\n\n    public async disconnectFromHub(): Promise<void> {\n        console.log(\"Try to disconnect from SignalR Hub\");\n\n        return await this.connection.stop();\n    }\n\n    public async sendCommand(command: string): Promise<void> {\n        console.log(\"Try send to SignalR Hub:\" + command);\n\n        return await this.connection.send(\"SendMessage\", command);\n    }\n}\n\nexport default SignalrManager;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { Router } from \"react-router\";\nimport { applyMiddleware, combineReducers, createStore } from \"redux\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport thunk from \"redux-thunk\";\n\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport audioUploadReducer from \"./store/reducers/audioUploadReducer\";\nimport sidebarReducer from \"./store/reducers/sidebarReducer\";\nimport streamReducer from \"./store/reducers/streamReducer\";\nimport history from \"./util/history\";\n\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"./assets/css/font-awesome.css\";\nimport \"./index.css\";\n\nimport config from \"react-global-configuration\";\nimport configuration from \"./config\";\nimport SignalrManager from \"./util/signalrManager\";\n\nconst reducer: any = combineReducers({\n    stream: streamReducer,\n    sidebar: sidebarReducer,\n    audioUpload: audioUploadReducer,\n});\n\nconst store: any = createStore(reducer, composeWithDevTools(applyMiddleware(\n    thunk,\n)));\n\nconfig.set(configuration);\n\nconst app: JSX.Element = (\n    <Provider store={store}>\n        <Router history={history}>\n            <App />\n        </Router>\n    </Provider>\n);\n\nexport const signalRManager: SignalrManager = new SignalrManager();\n\nReactDOM.render(app, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btnSection\":\"ButtonSection_btnSection__2FQZ7\",\"prev\":\"ButtonSection_prev__2ypve\",\"next\":\"ButtonSection_next__3VWK5\",\"prevNextDisable\":\"ButtonSection_prevNextDisable__23-xs\",\"act\":\"ButtonSection_act__pc4rP\",\"disable\":\"ButtonSection_disable__36mAv\",\"play\":\"ButtonSection_play__3mAjq\",\"pause\":\"ButtonSection_pause__1vd_w\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"audio\":\"StreamAudio_audio__2MlVi\",\"icon\":\"StreamAudio_icon__12kae\",\"disable\":\"StreamAudio_disable__30yIP\",\"time\":\"StreamAudio_time__42y8d\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"playSection\":\"PlaySection_playSection__21H9f\",\"numAudio\":\"PlaySection_numAudio__3Xi7r\",\"playbackTime\":\"PlaySection_playbackTime__22wwf\",\"playbackScale\":\"PlaySection_playbackScale__1SZ0o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"streamHead\":\"StreamHead_streamHead__316jw\",\"title\":\"StreamHead_title__1Ce8O\",\"btn\":\"StreamHead_btn__Co6PG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Backdrop\":\"Spinner_Backdrop__1on95\",\"Spinner\":\"Spinner_Spinner__2pXUx\",\"load6\":\"Spinner_load6__2TPYk\",\"round\":\"Spinner_round__2boIu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NavItem\":\"SidebarItem_NavItem__3_Wps\",\"NavItemActive\":\"SidebarItem_NavItemActive__3dS87\",\"nav-item\":\"SidebarItem_nav-item__1w9mu\"};","module.exports = __webpack_public_path__ + \"static/media/theater-logo.8b68e78f.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"audios\":\"StreamAudios_audios__1dKFM\"};"],"sourceRoot":""}